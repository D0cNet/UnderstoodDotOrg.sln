<scriptedContentFragments><scriptedContentFragment name="${resource:MediaGalleries_BrowseMediaGalleries_Name}" version="6.0.0.1" description="${resource:MediaGalleries_BrowseMediaGalleries_Description}" instanceIdentifier="9ede0520b2374b0c851730e85afc2c17" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="browse-media-galleries"><contentScript>
#set($pageIndex = 0)
#set($pageIndex = $core_v2_page.GetFormValue('pageIndex'))
#set($pageSize = 5)
#set($pageSize = $core_v2_widget.GetIntValue('itemsBeforeScroll', 5))
#set($showSubGroups = $core_v2_widget.GetBoolValue('groupAndSubGroups', false))
#set($sortOrder = 'Descending')
#set($showSortOptions = true)
#set ($sortBy = 'ApplicationName')
#set ($sortBy = $core_v2_widget.GetStringValue('defaultSortOrder', 'ApplicationName'))
## Simple mapping to convert configuration's name for Name and PostCount to the API's
#if ($sortBy == 'ApplicationName')
	#set ($sortBy = 'Name')
	#set($sortOrder = 'Ascending')
#elseif ($sortBy == 'Posts')
	#set ($sortBy = 'TotalPosts')
#end

#set($galleries = false)
#set($galleries = $core_v2_gallery.List("%{GroupId=$core_v2_group.Current.Id,IncludeSubGroups=$showSubGroups,PageIndex=$pageIndex,PageSize=$pageSize,SortBy=$sortBy,SortOrder=$sortOrder}"))

#if($core_v2_widget.GetBoolValue('includeSearch', true) &amp;&amp; $galleries &amp;&amp; $galleries.TotalCount &gt; 3)
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="text" value="$core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterMediaGallery')" /&gt;&lt;a href="javascript:void(0)" class="internal-link clear-search" title="$core_v2_language.GetResource('BrowseGroups_Clear')"&gt;$core_v2_language.GetResource('BrowseGroups_Clear')&lt;/a&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

&lt;div id="$core_v2_widget.UniqueId('list')"&gt;
	$core_v2_widget.ExecuteFile('list.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BrowseMediaGalleries')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.browseGalleries.register({
			searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search-callback.vm'))',
			listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('list-callback.vm'))',
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			pageIndex: 0,
			pageSize: $core_v2_widget.GetIntValue('itemsBeforeScroll', 5),
			defaultSearchText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterMediaGallery'))',
			list: jQuery('#$core_v2_widget.UniqueId('list')'),
			error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_Error'))',
			defaultSortBy: '$core_v2_encoding.JavascriptEncode($sortBy)',
			defaultSortOrder: '$core_v2_encoding.JavascriptEncode($sortOrder)'			
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript><headerScript>
#if($core_v2_widget.GetBoolValue('includeGroupName',false))
	$core_v2_language.FormatString($core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_BrowseMediaGalleries_Name}')), $core_v2_group.Current.Name)
#else
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_BrowseMediaGalleries_Name}'))
#end
		</headerScript><configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_BrowseMediaGalleries_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Extensions.SitecoreConnect" /&gt;
	&lt;property id="showTitleColumn" resourceName="UIFragment_Core_BrowseApplication_ShowTitle_MediaGallery" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showGroupColumn" resourceName="UIFragment_Core_BrowseApplication_ShowGroup_MediaGallery" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="showPostsColumn" resourceName="UIFragment_Core_BrowseApplication_ShowPosts" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showLastPostColumn" resourceName="UIFragment_Core_BrowseApplication_ShowLatest" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="groupAndSubGroups" resourceName="UIFragment_Core_BrowseApplication_GroupAndSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="itemsBeforeScroll" resourceName="UIFragment_Core_BrowseApplication_ItemsToShow" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Extensions.SitecoreConnect" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="defaultSortOrder" resourceName="UIFragment_Core_BrowseApplication_DefaultSortOrder" dataType="string" defaultValue="ApplicationName"&gt;
		&lt;propertyValue value="ApplicationName" resourceName="UIFragment_Core_BrowseApplication_ApplicationName" /&gt;
		&lt;propertyValue value="Posts" resourceName="UIFragment_Core_BrowseApplication_Posts" /&gt;
		&lt;propertyValue value="LastPost" resourceName="UIFragment_Core_BrowseApplication_LastPost" /&gt;
	&lt;/property&gt;
	&lt;property id="includeGroupName" resourceName="UIFragment_Core_BrowseApplication_IncludeGroupName" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="includeSearch" resourceName="UIFragment_Core_BrowseApplication_IncludeSearch" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
		</configuration><languageResources><language key="en-us"><resource name="MediaGalleries_BrowseMediaGalleries_Name">Media Gallery - Browse Media Galleries</resource><resource name="MediaGalleries_BrowseMediaGalleries_Description">Displays a browse control to view all media galleries on the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UIFragment_Core_BrowseApplication_ShowTitle_MediaGallery">Show File Gallery Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowGroup_MediaGallery">Show File Gallery Group Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowPosts">Show Post Count</resource><resource name="UIFragment_Core_BrowseApplication_ShowLatest">Show Latest Post Date</resource><resource name="UIFragment_Core_BrowseApplication_GroupAndSubGroups">Show data from Group and all Subgroups</resource><resource name="UIFragment_Core_BrowseApplication_ItemsToShow">Number of results to display</resource><resource name="UIFragment_Core_BrowseApplication_DefaultSortOrder">Default Sort Order</resource><resource name="UIFragment_Core_BrowseApplication_ApplicationName">Application Name</resource><resource name="UIFragment_Core_BrowseApplication_Posts">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPost">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_IncludeGroupName">Include current group's name in Title (Title must be a formatted string with a {0} placeholder)</resource><resource name="UIFragment_Core_BrowseApplication_IncludeSearch">Include search box (when more than 3 results)</resource><resource name="UIFragment_Core_BrowseApplication_FilterMediaGallery">Find a gallery...</resource><resource name="BrowseGroups_Clear">Clear</resource><resource name="UIFragment_Core_BrowseApplication_Error">An error occurred while searching.</resource><resource name="UIFragment_Core_BrowseApplication_MediaGalleryColumn">File Gallery</resource><resource name="UIFragment_Core_BrowseApplication_GroupColumn">Group</resource><resource name="UIFragment_Core_BrowseApplication_PostsColumn">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPostColumn">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_RemoveFavorite">Remove from Favorites</resource><resource name="UIFragment_Core_BrowseApplication_AddFavorite">Add to Favorites</resource><resource name="Today">Today</resource><resource name="Yesterday">Yesterday</resource><resource name="NA">N/A</resource><resource name="UIFragment_Core_BrowseApplication_NoResults">No results could be found.</resource><resource name="Utility_Pager_previousButton">&lt; Previous</resource><resource name="Utility_Pager_nextButton">Next &gt;</resource><resource name="MediaGalleries_BrowseMediaGalleries_Title_BrowseFileGalleries">Browse File Galleries</resource></language></languageResources><files><file name="favorite.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJGZhdm9yaXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2Zhdm9yaXRlJykpKQ0KCSRjb3JlX3YyX2dhbGxlcnkuU2V0RmF2b3JpdGUoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZ2FsbGVyeUlkJykpLCAkZmF2b3JpdGUpDQoJeyJmYXZvcml0ZSI6I2lmKCRmYXZvcml0ZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0NCiNlbmQ=</file><file name="header.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8dGhlYWQ+DQoJPHRyIGNsYXNzPSJ0YWJsZS1oZWFkZXIiPg0KCQkjaWYoJHNob3dUaXRsZSkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9NZWRpYUdhbGxlcnlDb2x1bW4nKSNpZigkc2hvd1NvcnRPcHRpb25zKTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCEkc29ydEJ5IHx8ICRzb3J0QnkgIT0gJ05hbWUnIHx8ICRzb3J0T3JkZXIuVG9Mb3dlcigpID09ICdhc2NlbmRpbmcnKSBzb3J0LWFzY2VuZGluZyNlbHNlIHNvcnQtZGVzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93R3JvdXApDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fR3JvdXBDb2x1bW4nKTwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93UG9zdHMpDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gcG9zdC1jb3VudCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Qb3N0c0NvbHVtbicpI2lmKCRzaG93U29ydE9wdGlvbnMpPGEgY2xhc3M9ImludGVybmFsLWxpbmsjaWYoISRzb3J0QnkgfHwgJHNvcnRCeSAhPSAnVG90YWxQb3N0cycgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93TGFzdFBvc3QpDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gcG9zdC1kYXRlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0xhc3RQb3N0Q29sdW1uJykjaWYoJHNob3dTb3J0T3B0aW9ucyk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZighJHNvcnRCeSB8fCAkc29ydEJ5ICE9ICdMYXN0UG9zdCcgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgk8L3RyPgkJDQo8L3RoZWFkPg0KDQo=</file><file name="list-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHBhZ2VTaXplID0gNSkNCiNzZXQoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdpdGVtc0JlZm9yZVNjcm9sbCcsIDUpKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KI3NldCgkc29ydEJ5ID0gJ05hbWUnKQ0KI3NldCgkc29ydE9yZGVyID0gJ0FzY2VuZGluZycpDQojc2V0KCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydEJ5JykpDQojc2V0KCRzb3J0T3JkZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydE9yZGVyJykpDQojc2V0KCRzaG93U29ydE9wdGlvbnMgPSB0cnVlKQ0KDQojc2V0KCRnYWxsZXJpZXMgPSBmYWxzZSkNCiNzZXQoJGdhbGxlcmllcyA9ICRjb3JlX3YyX2dhbGxlcnkuTGlzdCgiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kc2hvd1N1Ykdyb3VwcyxQYWdlSW5kZXg9JHBhZ2VJbmRleCxQYWdlU2l6ZT0kcGFnZVNpemUsU29ydEJ5PSRzb3J0QnksU29ydE9yZGVyPSRzb3J0T3JkZXJ9IikpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbGlzdC52bScp</file><file name="list.vm">I3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJGdhbGxlcnkgaW4gJGdhbGxlcmllcykNCgkJI2VhY2gNCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQoJCQkJI2lmKCRzaG93VGl0bGUpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLXRpdGxlIj4NCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdhbGxlcnkuVXJsKSI+JGdhbGxlcnkuTmFtZTwvYT4NCgkJCQkJCSNpZigkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZCkpDQoJCQkJCQkJPGEgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZmF2b3JpdGUnKV8kZ2FsbGVyeS5JZCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0iZGlzcGxheTogaW5saW5lOyI+PC9hPg0KCQkJCQkJCSNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQ0KCQkJCQkJCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJCQkJCQkJCS8vPCFbQ0RBVEFbDQoJCQkJCQkJCWpRdWVyeShmdW5jdGlvbigpew0KCQkJCQkJCQkJalF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdmYXZvcml0ZScpXyRnYWxsZXJ5LklkJykuZXZvbHV0aW9uVG9nZ2xlTGluayh7DQoJCQkJCQkJCQkJb25IdG1sOiAnJywNCgkJCQkJCQkJCQkJb2ZmSHRtbDogJycsDQoJCQkJCQkJCQkJb25UaXRsZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9SZW1vdmVGYXZvcml0ZScpKScsDQoJCQkJCQkJCQkJb2ZmVGl0bGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fQWRkRmF2b3JpdGUnKSknLA0KCQkJCQkJCQkJCQlwcm9jZXNzaW5nSHRtbDogJycsDQoJCQkJCQkJCQkJCWNoYW5nZVN0YXRlOiBmdW5jdGlvbih2YWwpIHsNCgkJCQkJCQkJCQkJCWpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCQkJCQkJCQkJCXVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnZmF2b3JpdGUudm0nKSknLA0KCQkJCQkJCQkJCQkJCWRhdGE6IHtmYXZvcml0ZTp2YWwsZ2FsbGVyeUlkOiRnYWxsZXJ5LklkfSwNCgkJCQkJCQkJCQkJCQlkYXRhVHlwZTogJ2pzb24nLA0KCQkJCQkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7IGpRdWVyeSgnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZmF2b3JpdGUnKV8kZ2FsbGVyeS5JZCcpLmV2b2x1dGlvblRvZ2dsZUxpbmsoJ3ZhbCcsIHJlc3BvbnNlLmZhdm9yaXRlKTsgfSwNCgkJCQkJCQkJCQkJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgeyBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Zhdm9yaXRlJylfJGdhbGxlcnkuSWQnKS5ldm9sdXRpb25Ub2dnbGVMaW5rKCd2YWwnLCAhdmFsKTsgfQ0KCQkJCQkJCQkJCQkJfSk7DQoJCQkJCQkJCQkJCX0sDQoJCQkJCQkJCQkJCW9uQ3NzQ2xhc3M6ICdpbnRlcm5hbC1saW5rIGZhdm9yaXRlLW9uJywNCgkJCQkJCQkJCQkJb2ZmQ3NzQ2xhc3M6ICdpbnRlcm5hbC1saW5rIGZhdm9yaXRlLW9mZicsDQoJCQkJCQkJCQkJCXByb2Nlc3NpbmdDc3NDbGFzczogJ2ludGVybmFsLWxpbmsgcHJvY2Vzc2luZycsDQoJCQkJCQkJCQkJCXZhbDogI2lmKCRjb3JlX3YyX2dhbGxlcnkuSXNGYXZvcml0ZSgkZ2FsbGVyeS5JZCkpIHRydWUjZWxzZSBmYWxzZSNlbmQNCgkJCQkJCQkJCX0pOw0KCQkJCQkJCQl9KTsNCgkJCQkJCQkJLy9dXV1dPjwhW0NEQVRBWz4NCgkJCQkJCQkJPC9zY3JpcHQ+DQoJCQkJCQkJI2VuZA0KCQkJCQkJI2VuZA0KCQkJCQkJI2lmKCRnYWxsZXJ5LkRlc2NyaXB0aW9uKTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JGdhbGxlcnkuRGVzY3JpcHRpb248L3NwYW4+I2VuZA0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dHcm91cCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRnYWxsZXJ5Lkdyb3VwLk5hbWU8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cyB8fCAkc2hvd0xhc3RQb3N0KQ0KCQkJCQkjc2V0KCRwYWdlcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R2FsbGVyeUlkPSRnYWxsZXJ5LklkLFBhZ2VJbmRleD0wLFBhZ2VTaXplPTF9IikpDQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWNvdW50Ij4NCgkJCQkJCSRwYWdlcy5Ub3RhbENvdW50LlRvU3RyaW5nKCIjLCMwIikNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmICgkc2hvd0xhc3RQb3N0KQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWRhdGUiPg0KCQkJCQkJI2lmKCRwYWdlcy5Ub3RhbENvdW50ID4gMCkNCgkJCQkJCQkjc2V0ICgkY3VycmVudERhdGVTdHJpbmcgPSAkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlLlRvZGF5LlRvU2hvcnREYXRlU3RyaW5nKCkpDQoJCQkJCQkJI2lmICgkZ2FsbGVyeS5MYXRlc3RQb3N0RGF0ZS5Ub1Nob3J0RGF0ZVN0cmluZygpID09ICRjdXJyZW50RGF0ZVN0cmluZykNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvZGF5JykNCgkJCQkJCQkjZWxzZWlmKCRnYWxsZXJ5LkxhdGVzdFBvc3REYXRlLkFkZERheXMoMSkuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdZZXN0ZXJkYXknKQ0KCQkJCQkJCSNlbHNlDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGdhbGxlcnkuTGF0ZXN0UG9zdERhdGUpDQoJCQkJCQkJI2VuZA0KCQkJCQkJI2Vsc2UNCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTkEnKQ0KCQkJCQkJI2VuZA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCTwvdHI+DQoJCQkjc2V0KCRoYXNSZXN1bHRzID0gdHJ1ZSkNCgkJI25vZGF0YQ0KCQkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj48dGQgY29sc3Bhbj0iJGNvbHVtbkNvdW50Ij48ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Ob1Jlc3VsdHMnKTwvZGl2PjwvdGQ+PC90cj4NCgkjZW5kDQoJPC90Ym9keT4NCjwvdGFibGU+DQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJwYWdlciI+DQoJI2lmKCRnYWxsZXJpZXMuUGFnZUluZGV4ID4gMCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0icHJldmlvdXMiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX3ByZXZpb3VzQnV0dG9uJyk8L3NwYW4+PC9hPg0KCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+DQoJI2VuZA0KCSNpZigoJGdhbGxlcmllcy5QYWdlSW5kZXggKyAxKSAqICRnYWxsZXJpZXMuUGFnZVNpemUgPCAkZ2FsbGVyaWVzLlRvdGFsQ291bnQpDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9Im5leHQiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX25leHRCdXR0b24nKTwvc3Bhbj48L2E+DQoJI2VuZA0KPC9kaXY+</file><file name="search-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHNlYXJjaFRleHQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2VhcmNoVGV4dCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzb3J0QnkgPSBmYWxzZSkNCiNzZXQoJHNvcnRPcmRlciA9IGZhbHNlKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KDQojc2V0KCRzZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfZ2FsbGVyeS5TZWFyY2goJHNlYXJjaFRleHQsICIle0dyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCxJbmNsdWRlU3ViR3JvdXBzPSRzaG93U3ViR3JvdXBzLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCg0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KI3NldCgkc2hvd1NvcnRPcHRpb25zID0gZmFsc2UpDQojc2V0KCRoYXNSZXN1bHRzID0gZmFsc2UpDQoNCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjx0YWJsZSBjbGFzcz0idGFibGUtbGlzdCI+DQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdoZWFkZXIudm0nKQ0KCTx0Ym9keT4NCgkjZm9yZWFjaCgkc2VhcmNoUmVzdWx0IGluICRzZWFyY2hSZXN1bHRzKQ0KCSNlYWNoDQoJCSNzZXQoJGdhbGxlcnkgPSBmYWxzZSkNCgkJI3NldCgkZ2FsbGVyeSA9ICRjb3JlX3YyX2dhbGxlcnkuR2V0KCIle0lkPSRzZWFyY2hSZXN1bHQuQ29udGVudElkfSIpKQ0KCQkjaWYoJGdhbGxlcnkpDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPg0KCQkJCSNpZigkc2hvd1RpdGxlKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+DQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LWFwcGxpY2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRnYWxsZXJ5LlVybCkiPiRnYWxsZXJ5Lk5hbWU8L2E+DQoJCQkJCQkjaWYoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQ0KCQkJCQkJCTxhIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Zhdm9yaXRlJylfJGdhbGxlcnkuSWQiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9ImRpc3BsYXk6IGlubGluZTsiPjwvYT4NCgkJCQkJCQkjcmVnaXN0ZXJFbmRPZlBhZ2VIdG1sKCkNCgkJCQkJCQkJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KCQkJCQkJCQkvLzwhW0NEQVRBWw0KCQkJCQkJCQlqUXVlcnkoZnVuY3Rpb24oKXsNCgkJCQkJCQkJCWpRdWVyeSgnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZmF2b3JpdGUnKV8kZ2FsbGVyeS5JZCcpLmV2b2x1dGlvblRvZ2dsZUxpbmsoew0KCQkJCQkJCQkJCW9uSHRtbDogJycsDQoJCQkJCQkJCQkJCW9mZkh0bWw6ICcnLA0KCQkJCQkJCQkJCW9uVGl0bGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fUmVtb3ZlRmF2b3JpdGUnKSknLA0KCQkJCQkJCQkJCW9mZlRpdGxlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0FkZEZhdm9yaXRlJykpJywNCgkJCQkJCQkJCQkJcHJvY2Vzc2luZ0h0bWw6ICcnLA0KCQkJCQkJCQkJCQljaGFuZ2VTdGF0ZTogZnVuY3Rpb24odmFsKSB7DQoJCQkJCQkJCQkJCQlqUXVlcnkudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQkJCQkJCQkJCQl1cmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ2Zhdm9yaXRlLnZtJykpJywNCgkJCQkJCQkJCQkJCQlkYXRhOiB7ZmF2b3JpdGU6dmFsLGdhbGxlcnlJZDokZ2FsbGVyeS5JZH0sDQoJCQkJCQkJCQkJCQkJZGF0YVR5cGU6ICdqc29uJywNCgkJCQkJCQkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgeyBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Zhdm9yaXRlJylfJGdhbGxlcnkuSWQnKS5ldm9sdXRpb25Ub2dnbGVMaW5rKCd2YWwnLCByZXNwb25zZS5mYXZvcml0ZSk7IH0sDQoJCQkJCQkJCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsgalF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdmYXZvcml0ZScpXyRnYWxsZXJ5LklkJykuZXZvbHV0aW9uVG9nZ2xlTGluaygndmFsJywgIXZhbCk7IH0NCgkJCQkJCQkJCQkJCX0pOw0KCQkJCQkJCQkJCQl9LA0KCQkJCQkJCQkJCQlvbkNzc0NsYXNzOiAnaW50ZXJuYWwtbGluayBmYXZvcml0ZS1vbicsDQoJCQkJCQkJCQkJCW9mZkNzc0NsYXNzOiAnaW50ZXJuYWwtbGluayBmYXZvcml0ZS1vZmYnLA0KCQkJCQkJCQkJCQlwcm9jZXNzaW5nQ3NzQ2xhc3M6ICdpbnRlcm5hbC1saW5rIHByb2Nlc3NpbmcnLA0KCQkJCQkJCQkJCQl2YWw6ICNpZigkY29yZV92Ml9nYWxsZXJ5LklzRmF2b3JpdGUoJGdhbGxlcnkuSWQpKSB0cnVlI2Vsc2UgZmFsc2UjZW5kDQoJCQkJCQkJCQl9KTsNCgkJCQkJCQkJfSk7DQoJCQkJCQkJCS8vXV1dXT48IVtDREFUQVs+DQoJCQkJCQkJCTwvc2NyaXB0Pg0KCQkJCQkJCSNlbmQNCgkJCQkJCSNlbmQNCgkJCQkJCSNpZigkZ2FsbGVyeS5EZXNjcmlwdGlvbik8c3BhbiBjbGFzcz0iZGVzY3JpcHRpb24iPiRnYWxsZXJ5LkRlc2NyaXB0aW9uPC9zcGFuPiNlbmQNCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93R3JvdXApDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLWdyb3VwIj4kZ2FsbGVyeS5Hcm91cC5OYW1lPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93UG9zdHMgfHwgJHNob3dMYXN0UG9zdCkNCgkJCQkJI3NldCgkcGFnZXMgPSAkY29yZV92Ml9tZWRpYS5MaXN0KCIle0dhbGxlcnlJZD0kZ2FsbGVyeS5JZCxQYWdlSW5kZXg9MCxQYWdlU2l6ZT0xfSIpKQ0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cykNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1jb3VudCI+DQoJCQkJCQkkcGFnZXMuVG90YWxDb3VudA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYgKCRzaG93TGFzdFBvc3QpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtZGF0ZSI+DQoJCQkJCQkjaWYoJHBhZ2VzLlRvdGFsQ291bnQgPiAwKQ0KCQkJCQkJCSNzZXQgKCRjdXJyZW50RGF0ZVN0cmluZyA9ICRjb3JlX3YyX3V0aWxpdHkuQ3VycmVudERhdGUuVG9kYXkuVG9TaG9ydERhdGVTdHJpbmcoKSkNCgkJCQkJCQkjaWYgKCRnYWxsZXJ5LkxhdGVzdFBvc3REYXRlLlRvU2hvcnREYXRlU3RyaW5nKCkgPT0gJGN1cnJlbnREYXRlU3RyaW5nKQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVG9kYXknKQ0KCQkJCQkJCSNlbHNlaWYoJGdhbGxlcnkuTGF0ZXN0UG9zdERhdGUuQWRkRGF5cygxKS5Ub1Nob3J0RGF0ZVN0cmluZygpID09ICRjdXJyZW50RGF0ZVN0cmluZykNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1llc3RlcmRheScpDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkZ2FsbGVyeS5MYXRlc3RQb3N0RGF0ZSkNCgkJCQkJCQkjZW5kDQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOQScpDQoJCQkJCQkjZW5kDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJPC90cj4NCgkJCSNzZXQoJGhhc1Jlc3VsdHMgPSB0cnVlKQ0KCQkjZW5kDQoJI2VuZA0KCSNpZighJGhhc1Jlc3VsdHMpDQoJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+PHRkIGNvbHNwYW49IiRjb2x1bW5Db3VudCI+PGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTm9SZXN1bHRzJyk8L2Rpdj48L3RkPjwvdHI+DQoJI2VuZA0KPC90Ym9keT4NCjwvdGFibGU+DQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJwYWdlciI+DQoJI2lmKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCA+IDApDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9InByZXZpb3VzIj48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9wcmV2aW91c0J1dHRvbicpPC9zcGFuPjwvYT4NCgkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+PC9zcGFuPg0KCSNlbmQNCgkjaWYoKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCArIDEpICogJHNlYXJjaFJlc3VsdHMuUGFnZVNpemUgPCAkc2VhcmNoUmVzdWx0cy5Ub3RhbENvdW50KQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJuZXh0Ij48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9uZXh0QnV0dG9uJyk8L3NwYW4+PC9hPg0KCSNlbmQNCjwvZGl2Pg==</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCgkJDQoJCSQoJy5wYWdlciAucHJldmlvdXMnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCV9wYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4IC0gMSk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KCQkNCgkJJCgnLnBhZ2VyIC5uZXh0JywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlfcGFnZShjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCArIDEpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9KTsNCgkJDQoJCSQoJy50YWJsZS1oZWFkZXItY29sdW1uJywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlpZiAoJCgnYScsIHRoaXMpLmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJdmFyIHNvcnRCeSA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpWzFdOw0KCQkJCWNvbnRleHQuc29ydEJ5ID0gX2NvbnZlcnRDbGFzc1RvU29ydEJ5KGNvbnRleHQsIHNvcnRCeSk7DQoJCQkJdmFyIHNvcnRPcmRlciA9ICQoJ2EnLCB0aGlzKS5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJylbMV07DQoJCQkJY29udGV4dC5zb3J0T3JkZXIgPSBfY29udmVydENsYXNzVG9Tb3J0T3JkZXIoY29udGV4dCwgc29ydE9yZGVyLCB0cnVlKTsNCgkJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJCQl9DQoJCX0pOw0KCQkNCgkJJCgnLnRhYmxlLWhlYWRlci1jb2x1bW4gYScsIHcpLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCgkJCSQodGhpcykucGFyZW50KCkuY2xpY2soKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfSk7DQoJfSwNCglfcGFnZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYWdlSW5kZXgpIHsNCgkJaWYgKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBwYWdlSW5kZXgpOw0KCX0sDQoJX3JlZnJlc2ggPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCWlmKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJfSwNCglfbGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5saXN0VXJsLA0KCQkJZGF0YTogeyB3X3BhZ2VJbmRleDogcGFnZUluZGV4LCB3X3NvcnRCeTogKGNvbnRleHQuc29ydEJ5IHx8IGNvbnRleHQuZGVmYXVsdFNvcnRCeSksIHdfc29ydE9yZGVyOiAoY29udGV4dC5zb3J0T3JkZXIgfHwgY29udGV4dC5kZWZhdWx0U29ydE9yZGVyKSB9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbChyZXNwb25zZSk7DQoJCQkJY29udGV4dC5wYWdlSW5kZXggPSBwYWdlSW5kZXg7DQoJCQkJY29udGV4dC5zZWFyY2hUZXh0ID0gJyc7DQoJCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3IsDQoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgew0KCQkJCWNvbnRleHQubGlzdC5odG1sKCc8ZGl2IGNsYXNzPSJtZXNzYWdlIGVycm9yIGVycm9yX19tZXNzYWdlIj4nICsgZGVzYyArICc8L2Rpdj4nKTsNCgkJCX0NCgkJfSk7DQoJfSwNCglfc2VhcmNoID0gZnVuY3Rpb24oY29udGV4dCwgcXVlcnksIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5zZWFyY2hVcmwsDQoJCQlkYXRhOiB7IHdfc2VhcmNoVGV4dDogcXVlcnksIHdfcGFnZUluZGV4OiBwYWdlSW5kZXggfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJY29udGV4dC5saXN0Lmh0bWwocmVzcG9uc2UpOw0KCQkJCWNvbnRleHQucGFnZUluZGV4ID0gcGFnZUluZGV4Ow0KCQkJCWNvbnRleHQuc2VhcmNoVGV4dCA9IHF1ZXJ5Ow0KCQkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJCX0sDQoJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yLA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydEJ5ID0gZnVuY3Rpb24oY29udGV4dCwgc29ydEJ5Q2xhc3MpIHsNCgkJc3dpdGNoKHNvcnRCeUNsYXNzKSB7DQoJCQljYXNlICdwb3N0LWNvdW50JzogcmV0dXJuICdUb3RhbFBvc3RzJzsNCgkJCWNhc2UgJ3Bvc3QtZGF0ZSc6IHJldHVybiAnTGFzdFBvc3QnOw0KCQkJY2FzZSAnYXBwbGljYXRpb24tdGl0bGUnOg0KCQkJY2FzZSAnYXBwbGljYXRpb24tZ3JvdXAnOg0KCQkJZGVmYXVsdDogcmV0dXJuICdOYW1lJzsNCgkJfQ0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydE9yZGVyID0gZnVuY3Rpb24oY29udGV4dCwgc29ydE9yZGVyQ2xhc3MsIHJldmVyc2UpIHsNCgkJc3dpdGNoKHNvcnRPcmRlckNsYXNzKSB7DQoJCQljYXNlICdzb3J0LWFzY2VuZGluZyc6IA0KCQkJCWlmKCFyZXZlcnNlKQ0KCQkJCQlyZXR1cm4gJ0FzY2VuZGluZyc7DQoJCQkJZWxzZQ0KCQkJCQlyZXR1cm4gJ0Rlc2NlbmRpbmcnOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSAnc29ydC1kZXNjZW5kaW5nJzogDQoJCQlkZWZhdWx0OiANCgkJCQlpZighcmV2ZXJzZSkNCgkJCQkJcmV0dXJuICdEZXNjZW5kaW5nJzsNCgkJCQllbHNlDQoJCQkJCXJldHVybiAnQXNjZW5kaW5nJzsNCgkJCQlicmVhazsNCgkJfQ0KCX07DQoJCQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmJyb3dzZUdhbGxlcmllcyA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCXZhciB3ID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCk7DQoJCQ0KCQkJJCgnLmZpZWxkLWl0ZW0taW5wdXQgaW5wdXQnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCQodGhpcykudmFsKCkgPT0gY29udGV4dC5kZWZhdWx0U2VhcmNoVGV4dCkNCgkJCQkJCSQodGhpcykudmFsKCcnKTsNCgkJCQl9KS5rZXl1cChmdW5jdGlvbihlKSB7DQoJCQkJCWNvbnRleHQuX2xhc3RLZXlDb2RlID0gZS5rZXlDb2RlOw0KCQkJCQlpZiAoY29udGV4dC5fc2VhcmNoVGltZW91dCkNCgkJCQkJCWNsZWFyVGltZW91dChjb250ZXh0Ll9zZWFyY2hUaW1lb3V0KTsNCgkJCQkJDQoJCQkJCXZhciBzZWFyY2hUZXh0ID0gJCh0aGlzKS52YWwoKTsNCgkJCQkJDQoJCQkJCWlmIChzZWFyY2hUZXh0Lmxlbmd0aCA+IDApIHsNCgkJCQkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLnNob3coKTsNCgkJCQkJCWNvbnRleHQuX3NlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkJeyBfc2VhcmNoKGNvbnRleHQsIHNlYXJjaFRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuaGlkZSgpOw0KCQkJCQkJY29udGV4dC5fc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF9saXN0KGNvbnRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQkNCgkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykudmFsKCcnKTsNCgkJCQlfbGlzdChjb250ZXh0LCAwKTsNCgkJCQkkKHRoaXMpLmhpZGUoKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KS5oaWRlKCk7DQoJCQ0KCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file></files></scriptedContentFragment></scriptedContentFragments>