<scriptedContentFragments><scriptedContentFragment name="BlogPost-Widget-v7" version="7.0.0.28679" description="${resource:Blogs_BlogPost_Description}" instanceIdentifier="d3c2dc39f0134ef6a90f1822f4cfd674" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="blog-post"><contentScript>#set($post = false)
#set($post = $core_v2_blogPost.Current)
#if(!$post)
    $core_v2_widget.Hide()
#end
#set ($accessingUserIsRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
##$core_v2_blogPost.IncrementViewCount($post.Id)

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;
    &lt;h3 class="post-name"&gt;$post.Title&lt;/h3&gt;
    #if ($core_v2_blogPost.AreRatingsEnabled($post.Id))
        &lt;div class="post-rating"&gt;
            $core_v2_language.GetResource("RateThis")&lt;br /&gt;
            $core_v2_ui.Rate($post.ContentId, $core_v2_blogPost.ContentTypeId)
        &lt;/div&gt;
    #end
    &lt;div class="post-author"&gt;
        &lt;span class="avatar"&gt;
            #if ($post.Author.ProfileUrl)
                &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.Author.ProfileUrl)"&gt;
                    $core_v2_ui.GetResizedImageHtml($post.Author.AvatarUrl, 32, 32, "%{border='0', alt=$post.Author.DisplayName}")
                &lt;/a&gt;
            #else
                $core_v2_ui.GetResizedImageHtml($post.Author.AvatarUrl, 32, 32, "%{border='0', alt=$post.Author.DisplayName}")
            #end
        &lt;/span&gt;
        &lt;span class="user-name"&gt;
            #if ($post.Author.ProfileUrl)
                &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.Author.ProfileUrl)" class="internal-link view-user-profile"&gt;
                    &lt;span&gt;&lt;/span&gt;$post.Author.DisplayName
                &lt;/a&gt;
            #else
                &lt;span&gt;&lt;/span&gt;$post.Author.DisplayName
            #end
        &lt;/span&gt;
    &lt;/div&gt;

    &lt;div class="post-date"&gt;
        &lt;span class="value"&gt;
            $core_v2_language.FormatDateAndTime($post.PublishedDate)
        &lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="post-attributes"&gt;
        &lt;div class="attribute-list-header"&gt;&lt;/div&gt;
        &lt;ul class="attribute-list"&gt;
             &lt;li class="attribute-item post-reply-count"&gt;
                &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Comments')&lt;/span&gt;
                &lt;span class="attribute-value"&gt;&lt;a href="#comments" class="internal-link view-replies"&gt;&lt;span&gt;&lt;/span&gt;$post.CommentCount&lt;/a&gt;&lt;/span&gt;
             &lt;/li&gt;
             &lt;li class="attribute-item post-like-count"&gt;
                &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Likes')&lt;/span&gt;
                &lt;span class="attribute-value"&gt;$core_v2_ui.Like($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ Format = '{count}' }")&lt;/span&gt;
             &lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="post-content user-defined-markup"&gt;$post.Body("Web")&lt;/div&gt;
    &lt;div class="post-attachment-viewer"&gt;
        #if ($post.File &amp;&amp; $post.File.FileUrl)
            &lt;div class="post-attachment"&gt;
                &lt;span class="label"&gt;$core_v2_language.GetResource('CreateEditPost_Inline12')&lt;/span&gt;
                &lt;span class="value"&gt;
                    &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.File.FileUrl)" class="internal-link download-attachment"&gt;
                        &lt;span class="avatar"&gt;$!core_v2_ui.GetPreviewHtml($post.File.FileUrl, "%{Width = 28, Height = 28}")&lt;/span&gt;
                        $post.File.FileName
                    &lt;/a&gt;
                &lt;/span&gt;
            &lt;/div&gt;
        #end
    &lt;/div&gt;
    &lt;div class="post-actions"&gt;
        &lt;div class="navigation-list-header"&gt;&lt;/div&gt;
        &lt;ul class="navigation-list"&gt;

            #if ($accessingUserIsRegistered)
                &lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('blogPostFavorite')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
                #registerEndOfPageHtml()
                    &lt;script type="text/javascript"&gt;
                    jQuery(function(j){
                        j('#$core_v2_widget.UniqueId('blogPostFavorite')').evolutionToggleLink({
                            onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blogs_BlogPost_RemoveFromFavoritesPost'))',
                            offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blogs_BlogPost_FavoritePost'))',
                            processingHtml: '&lt;span&gt;&lt;/span&gt;...',
                            changeState: function(val) {
                                j.telligent.evolution.post({
                                    url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('favorite.vm'))',
                                    data: {favorite:val,blogPostId:$post.Id},
                                    dataType: 'json',
                                    success: function(response) { j('#$core_v2_widget.UniqueId('blogPostFavorite')').evolutionToggleLink('val', response.favorite); },
                                    error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('blogPostFavorite')').evolutionToggleLink('val', !val); }
                                });
                            },
                            onCssClass: 'internal-link favorite-on',
                            offCssClass: 'internal-link favorite-off',
                            processingCssClass: 'internal-link processing',
                            val: #if($core_v2_blogPost.IsFavorite($post.Id)) true#else false#end
                        });
                    });
                    &lt;/script&gt;
                #end
            #end
            &lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustTarget($post.Url, 'comments'))" class="internal-link view-replies"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('Blog_PostQuestionAnswerView_CommentsCountFormatString'), $post.CommentCount)&lt;/a&gt;&lt;/li&gt;
            #if($post.IsExternal)
                &lt;li class="navigation-item"&gt;
                    $core_v2_language.FormatString($core_v2_language.GetResource('Weblog_ReadMirroredPost'), $core_v2_encoding.HtmlAttributeEncode($post.TitleUrl), $core_v2_language.FormatUrl($post.TitleUrl))
                &lt;/li&gt;
            #end
            #if ($accessingUserIsRegistered)
                &lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('blogPostSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
                #registerEndOfPageHtml()
                    &lt;script type="text/javascript"&gt;
                    jQuery(function(j){
                        j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink({
                            onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_StopFollowing'))',
                            offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_FollowThisQuestion'))',
                            processingHtml: '&lt;span&gt;&lt;/span&gt;...',
                            changeState: function(val) {
                                j.telligent.evolution.post({
                                    url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
                                    data: {subscribe:val,blogPostId:$post.Id},
                                    dataType: 'json',
                                    success: function(response) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', response.subscribe); },
                                    error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', !val); }
                                });
                            },
                            onCssClass: 'internal-link subscription-on',
                            offCssClass: 'internal-link subscription-off',
                            processingCssClass: 'internal-link processing',
                            val: false
                        });
                    });
                    &lt;/script&gt;
                #end
            #end
        &lt;/ul&gt;
        &lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    #if(!$sitecore_v2_configuration.AutoRedirectUsers)
        #if ($post.Tags.Count &gt; 0 || $core_v2_tags.CanAddTags($post.ContentId, $core_v2_blogPost.ContentTypeId))
            &lt;div class="post-tags"&gt;
                #set($tagUrlFormat = $core_v2_page.AbsoluteUrl($core_v2_blogUrls.Tags($post.BlogId, $core_v2_utility.MakeList('TAGNAME')).Replace('TAGNAME','{tag}')))
                $core_v2_ui.Tag($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{UrlFormat=$tagUrlFormat}")
            &lt;/div&gt;
        #end
    #end

	#if ($accessingUserIsRegistered)
		#set ($likeFormat = '{toggle} &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#else
		#set ($likeFormat = '&lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#end
	&lt;div class="post-like"&gt;
	    $core_v2_ui.Like($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ Format = $likeFormat }")
	&lt;/div&gt;
    &lt;div class="post-moderate"&gt;
        #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
            $core_v2_ui.Moderate($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ CssClass = 'expanded' }")
        #end
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;</contentScript><headerScript>#set($blog = false)
#set($blog = $core_v2_blog.Current)
#if ($blog)
    &lt;a class="internal-link view-application weblog" href="$core_v2_encoding.HtmlAttributeEncode($blog.Url)"&gt;&lt;span&gt;&lt;/span&gt;$blog.Name&lt;/a&gt;
#else
    $core_v2_language.GetResource('Blogs_BlogPost_Name')
#end</headerScript><languageResources><language key="en-us"><resource name="Blogs_BlogPost_Name">Blog - Post</resource><resource name="Blogs_BlogPost_Description">Displays a blog post.</resource><resource name="RateThis">Rate This</resource><resource name="Comments">Comments</resource><resource name="CreateEditPost_Inline12">Attachment:</resource><resource name="Blogs_BlogPost_RemoveFromFavoritesPost">Remove from favorites</resource><resource name="Blogs_BlogPost_FavoritePost">Favorite this post</resource><resource name="Blog_PostQuestionAnswerView_CommentsCountFormatString">&lt;span&gt;&lt;/span&gt;{0} Comments</resource><resource name="Weblog_ReadMirroredPost">Read the complete post at &lt;a href="{0}"&gt;{1}&lt;/a&gt;</resource><resource name="Blog_PostQuestionAnswerView_StopFollowing">Email unsubscribe from comments to this blog post</resource><resource name="Blog_PostQuestionAnswerView_FollowThisQuestion">Email subscribe to comments to this blog post</resource><resource name="Likes">Likes</resource></language></languageResources><requiredContext><context id="24fa6951ab1244f5be3df20cc46b361b" /></requiredContext><files><file name="favorite.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmYXZvcml0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmYXZvcml0ZScpKSkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSRjb3JlX3YyX2Jsb2dQb3N0LlNldEZhdm9yaXRlKCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2Jsb2dQb3N0SWQnKSksICRmYXZvcml0ZSkNCgl7ImZhdm9yaXRlIjojaWYoJGZhdm9yaXRlKSB0cnVlI2Vsc2UgZmFsc2UjZW5kfQ0KI2VuZA==</file><file name="rate.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRibG9nUG9zdElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnYmxvZ1Bvc3RJZCcpKSkNCg0KCSRjb3JlX3YyX2Jsb2dQb3N0LlNldFJhdGluZygkYmxvZ1Bvc3RJZCwgJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmF0aW5nJykpKQ0KCXsicmF0aW5nQXZlcmFnZSI6JGNvcmVfdjJfYmxvZ1Bvc3QuR2V0UmF0aW5nKCRibG9nUG9zdElkKS5BdmVyYWdlfQ0KI2VuZA==</file><file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRzdWJzY3JpYmUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnc3Vic2NyaWJlJykpKQ0KCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KDQoJJGNvcmVfdjJfYmxvZ1Bvc3QuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdibG9nUG9zdElkJykpLCAkc3Vic2NyaWJlKQ0KCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0NCiNlbmQ=</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIHNhdmVUYWdzID0gZnVuY3Rpb24oY29udGV4dCwgdGFncywgc3VjY2Vzc0ZuKQ0KCQl7DQoJCQl2YXIgZGF0YSA9IHsNCgkJCQlUYWdzOiB0YWdzLmxlbmd0aCA+IDAgPyB0YWdzLmpvaW4oJywnKSA6ICcnLA0KCQkJCUJsb2dQb3N0SWQ6IGNvbnRleHQucG9zdElkLA0KCQkJCUJsb2dJZDogY29udGV4dC5ibG9nSWQNCgkJCX07DQoNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoew0KCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2Jsb2dzL3tCbG9nSWR9L3Bvc3RzL3tCbG9nUG9zdElkfS5qc29uJywNCgkJCQlkYXRhOiBkYXRhLA0KCQkJCWRhdGFUeXBlOiAnanNvbicsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlzdWNjZXNzRm4oKTsNCgkJCQkJY29udGV4dC5jdXJyZW50VGFncyA9IHRhZ3M7DQoNCgkJCQkJdmFyIHRhZ3NIdG1sID0gJyc7DQoJCQkJCWZvcih2YXIgaSA9IDA7IGkgPCBjb250ZXh0LmN1cnJlbnRUYWdzLmxlbmd0aDsgaSsrKQ0KCQkJCQl7DQoJCQkJCQl2YXIgdGFnTmFtZSA9ICQudHJpbShjb250ZXh0LmN1cnJlbnRUYWdzW2ldKTsNCgkJCQkJCXZhciB0YWdVcmwgPSBjb250ZXh0LnRhZ1VybFRlbXBsYXRlLnJlcGxhY2UoL1RBR05BTUUvZywgZW5jb2RlVVJJQ29tcG9uZW50KHRhZ05hbWUucmVwbGFjZSgvIC9nLCAnKycpKSk7DQoJCQkJCQl0YWdzSHRtbCA9IHRhZ3NIdG1sICsgJzxhIGhyZWY9IicgKyB0YWdVcmwgKyAnIj4nICsgJCgnPGRpdi8+JykudGV4dCh0YWdOYW1lKS5odG1sKCkgKyAnPC9hPic7DQoJCQkJCQlpZiAoaSArIDEgPCBjb250ZXh0LmN1cnJlbnRUYWdzLmxlbmd0aCkNCgkJCQkJCQl0YWdzSHRtbCA9IHRhZ3NIdG1sICsgJywgJzsNCgkJCQkJfQ0KDQoJCQkJCWNvbnRleHQudGFnTGlzdC5odG1sKHRhZ3NIdG1sKTsNCgkJCQl9DQoJCQl9KTsNCgkJfSwNCgkJcmF0ZVBvc3QgPSBmdW5jdGlvbihjb250ZXh0LCB2YWx1ZSkNCgkJew0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCXVybDogY29udGV4dC5yYXRpbmdVcmwsDQoJCQkJZGF0YToge3JhdGluZzp2YWx1ZSxibG9nUG9zdElkOmNvbnRleHQucG9zdElkfSwNCgkJCQlkYXRhVHlwZTogJ2pzb24nLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJY29udGV4dC5yYXRpbmcuZXZvbHV0aW9uU3RhclJhdGluZygndmFsJywgcmVzcG9uc2UucmF0aW5nQXZlcmFnZSk7DQoJCQkJfQ0KCQkJfSk7DQoJCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5ibG9nUG9zdCA9DQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJaWYgKGNvbnRleHQudGFnRWRpdG9yKQ0KCQkJCWNvbnRleHQudGFnRWRpdG9yLmV2b2x1dGlvbklubGluZVRhZ0VkaXRvcih7DQoJCQkJCWFsbFRhZ3M6IGNvbnRleHQuYWxsVGFncywNCgkJCQkJY3VycmVudFRhZ3M6IGNvbnRleHQuY3VycmVudFRhZ3MsDQoJCQkJCXNlbGVjdFRhZ3NUZXh0OiBjb250ZXh0LnNlbGVjdFRhZ3NUZXh0LA0KCQkJCQlvblNhdmU6IGZ1bmN0aW9uKHRhZ3MsIHN1Y2Nlc3NGbikgew0KCQkJCQkJc2F2ZVRhZ3MoY29udGV4dCwgdGFncywgc3VjY2Vzc0ZuKTsNCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQlpZiAoY29udGV4dC5yYXRpbmcpDQoJCQkJY29udGV4dC5yYXRpbmcuZXZvbHV0aW9uU3RhclJhdGluZyh7DQoJCQkJCQl2YWx1ZTogY29udGV4dC5hdmVyYWdlUmF0aW5nLA0KCQkJCQkJaXNSZWFkT25seTogIWNvbnRleHQuaGFzUmF0ZVBlcm1pc3Npb24sDQoJCQkJCQlvblJhdGU6IGZ1bmN0aW9uKHZhbHVlLCBzdWNjZXNzKSB7DQoJCQkJCQkJcmF0ZVBvc3QoY29udGV4dCwgdmFsdWUsIHN1Y2Nlc3MpOw0KCQkJCQkJfQ0KCQkJCX0pOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file></files></scriptedContentFragment></scriptedContentFragments>