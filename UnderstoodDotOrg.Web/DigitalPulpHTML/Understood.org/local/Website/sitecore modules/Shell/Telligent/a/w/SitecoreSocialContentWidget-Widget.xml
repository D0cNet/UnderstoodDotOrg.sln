<scriptedContentFragments><scriptedContentFragment name="SitecoreSocialContent-Widget" version="7.6.2.33897" description="Community participants can like, comment on, and rate Sitecore content pages from within Sitecore" instanceIdentifier="95364e35197443039463f0df6fb71269" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="false" cssClass="add-media-gallery-post-comment media-gallery-post-comment-list"><contentScript>#set($clientId = $core_v2_widget.GetGuidValue('clientId'))
#set($contentTypeId = $core_v2_widget.GetGuidValue('contentTypeId'))
#set($showComments = $core_v2_widget.GetBoolValue('comments', true))
#set($showLikes = $core_v2_widget.GetBoolValue('likes', true))
#set($showRatings = $core_v2_widget.GetBoolValue('ratings', true))
#set($contentUrl = "http://${contentTypeId}${core_v2_page.Url}")
#set($contentUrl = $core_v2_utility.Split("?", $contentUrl).get_item(0))
#set($contentUrl = $core_v2_utility.Split("#", $contentUrl).get_item(0))

#if ($showRatings)
    &lt;div id="$core_v2_widget.UniqueId('rate')" style="display:inline;"&gt;
        $core_v2_ui.Rate($contentUrl, $clientId, "%{RatingTypeId = $contentTypeId}")
    &lt;/div&gt;
#end

#if ($showLikes)
    &lt;div id="$core_v2_widget.UniqueId('like')" class="post-like"&gt;
        
        #set($accessingUserIsRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
        
        #if ($accessingUserIsRegistered)
            #set ($likeFormat = '{toggle} &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
            $core_v2_ui.Like($contentUrl, $clientId, "%{ Format = $likeFormat, LikeTypeId = $contentTypeId }")
        #else
            #set($likes = $core_v2_like.List("%{ApplicationId = $clientId, ContentUrl=$contentUrl, TypeId = $contentTypeId}"))
            &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;$likes.TotalCount&lt;/span&gt;
        #end
        
    &lt;/div&gt;
#end

#if ($showComments)
    &lt;div id="$core_v2_widget.UniqueId('comment')"&gt;
        $core_v2_widget.ExecuteFile('comment.vm')
    &lt;/div&gt;
    
    $core_v2_ui.PagedContent('comment-load.vm')
#end

#registerEndOfPageHtml('telligent.evolution.widgets.thread')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(function(){    
        jQuery.telligent.evolution.widgets.sitecore.socialcontent.register({            
            baseUrl:'$core_v2_encoding.JavascriptEncode($core_v2_page.Url)',
            bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentForm_EnterCommentWarning"))',
            bodySelector: '#$core_v2_widget.UniqueId("body")',
            contentUrl: '$contentUrl',
            contentTypeId: '$contentTypeId',
            commentPostEvent: 'telligent_sitecore_commentposted_$core_v2_widget.WrapperElementId',
            clientId: '$clientId',
            deleteVerificationText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentList_DeleteConfirmation"))',
            errorMessage: '#$core_v2_widget.UniqueId("errorMessage")',
            errorText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentList_Error"))',
            loadingText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentList_Loading"))',
            loadCommentsUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl("comment-load.vm"))',
            moderateMessage: '#$core_v2_widget.UniqueId("moderateMessage")',
            pageIndexQueryStringKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)',
            pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)',            
            publishErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentForm_PublishError"))',
            publishingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentForm_Posting"))',
            publishText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Sitecore_CommentForm_PostComment"))',
            save: '#$core_v2_widget.UniqueId("save")',
            successMessage: '#$core_v2_widget.UniqueId("successMessage")',
            wrapperId: '$core_v2_widget.WrapperElementId',
            wrapper: '#$core_v2_ui.PagedContentWrapperElementId'
        });
    });
    //]]&gt;
    &lt;/script&gt;
#end</contentScript><headerScript>$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Social_Content_Name}'))</headerScript><configuration>&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="clientId" resourceName="Social_Content_Client_Id" descriptionRescourceName="Social_Content_Client_Id_Desc" dataType="guid" defaultValue="" /&gt;
    &lt;property id="contentTypeId" resourceName="Social_Content_Content_Type" descriptionRescourceName="Social_Content_Content_Type_Desc" dataType="guid" defaultValue="" /&gt;
    &lt;property id="comments" resourceName="Social_Content_Comment" dataType="bool" defaultValue="true" /&gt;
    &lt;property id="pageSize" resourceName="Social_Content_Comment_PageSize" dataType="int" defaultValue="15" /&gt;
    &lt;property id="likes" resourceName="Social_Content_Like" dataType="bool" defaultValue="true" /&gt;
    &lt;property id="ratings" resourceName="Social_Content_Rate" dataType="bool" defaultValue="true" /&gt;        
&lt;/propertyGroup&gt;</configuration><languageResources><language key="en-us"><resource name="Social_Content_Name">Sitecore-SocialContent-Widget</resource><resource name="Social_Content_Description">Displays UI for Ratings, Likes and Comments</resource><resource name="Options">Options</resource><resource name="Social_Content_Client_Id">OAuth Client Id</resource><resource name="Social_Content_Client_Id_Desc">OAuth Client Id used for Telligent Evolution</resource><resource name="Social_Content_Content_Type">Content Type Guid</resource><resource name="Social_Content_Content_Type_Desc">Guid that identifies this content</resource><resource name="Social_Content_Like">Show Likes</resource><resource name="Social_Content_Comment">Show Comments</resource><resource name="Social_Content_Rate">Show Ratings</resource><resource name="Sitecore_Comment_SuccessMessage">Your comment has been posted.</resource><resource name="Sitecore_Comment_ModeratedMessaage">Thank you, your comment requires moderation so it may take a while to appear.</resource><resource name="Close">Close</resource><resource name="Sitecore_CommentForm_EnterCommentWarning">Please enter a comment</resource><resource name="Sitecore_CommentForm_Posting">Publishing</resource><resource name="Sitecore_CommentForm_PublishError">There was an error saving your comment.</resource><resource name="Sitecore_CommentForm_PostComment">Post</resource><resource name="Sitecore_CommentForm_LeaveComment">Leave a Comment</resource><resource name="Social_Content_Comment_PageSize">Comments Page Size</resource><resource name="Delete">Delete</resource><resource name="Sitecore_CommentList_Error">Error retrieving comments.</resource><resource name="Sitecore_CommentList_Loading">Loading...</resource><resource name="Sitecore_CommentList_DeleteConfirmation">Are you sure you want to delete this comment?</resource></language></languageResources><files><file name="comment-load.vm">I3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywgMTUpKQ0KI3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQ0KI3NldCgkY2xpZW50SWQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ2NsaWVudElkJykpDQojc2V0KCRjb250ZW50VXJsID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdjb250ZW50VXJsJykpDQojc2V0KCRjb250ZW50VHlwZUlkID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdjb250ZW50VHlwZUlkJykpDQoNCiNzZXQoJGNvbW1lbnRzID0gJGNvcmVfdjJfY29tbWVudHMuTGlzdCgiJXsgQXBwbGljYXRpb25JZD0kY2xpZW50SWQsIENvbnRlbnRVcmw9JGNvbnRlbnRVcmwsIENvbW1lbnRUeXBlPSRjb250ZW50VHlwZUlkLCBQYWdlU2l6ZT0kcGFnZVNpemUsIFBhZ2VJbmRleD0kcGFnZUluZGV4IH0iKSkNCiNzZXQoJGF1dGhvcklkID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpDQojc2V0KCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkID0gJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGF1dGhvcklkKSkNCg0KI2ZvcmVhY2goJGNvbW1lbnQgaW4gJGNvbW1lbnRzKQ0KI2JlZm9yZWFsbA0KICAgIDxhIG5hbWU9ImNvbW1lbnRzIj48L2E+DQogICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb21tZW50cyIpPC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgkjc2V0KCRJc0Fub255bW91cyA9IHRydWUpDQoJI3NldCgkSXNBbm9ueW1vdXMgPSAhJGNvcmVfdjJfVXNlci5Jc1JlZ2lzdGVyZWQoJGNvbW1lbnQuVXNlci5JZCkpDQoJI2lmICgkYXV0aG9ySWQgPT0gJGNvbW1lbnQuVXNlci5JZCkNCgkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gdXNlci1pcy1hdXRob3IiIGRhdGEtY29tbWVudGlkPSIkY29tbWVudC5Db21tZW50SWQiPg0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LW91dGVyIGZpamktZnVsbC1wb3N0LW91dGVyIGV2b2x1dGlvbjItZnVsbC1wb3N0LW91dGVyIj4NCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIgdXNlci1pcy1hdXRob3IiPg0KCQkJCTxkaXYgY2xhc3M9InIgZmlqaS1yIGV2b2x1dGlvbjItciI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCB1c2VyLWlzLWF1dGhvciI+DQoJI2Vsc2UNCgkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iIGRhdGEtY29tbWVudGlkPSIkY29tbWVudC5Db21tZW50SWQiPg0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LW91dGVyIGZpamktZnVsbC1wb3N0LW91dGVyIGV2b2x1dGlvbjItZnVsbC1wb3N0LW91dGVyIj4NCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPg0KCQkJCTxkaXYgY2xhc3M9InIgZmlqaS1yIGV2b2x1dGlvbjItciI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+DQoJI2VuZA0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWlubmVyIGZpamktZnVsbC1wb3N0LWlubmVyIGV2b2x1dGlvbjItZnVsbC1wb3N0LWlubmVyIj4NCgkJCQk8YSBuYW1lPSJjb21tZW50LSRjb21tZW50LkNvbW1lbnRJZCI+PC9hPg0KCQkJCTxoMyBjbGFzcz0icG9zdC1uYW1lIj4kY29tbWVudC5Db250ZW50Lkh0bWxOYW1lKCJ3ZWIiKTwvaDM+DQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPg0KCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4NCgkJCQkJCSNpZiAoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKQ0KCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKSI+DQoJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGNvbW1lbnQuVXNlci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb21tZW50LlVzZXIuRGlzcGxheU5hbWV9IikNCgkJCQkJCQk8L2E+DQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGNvbW1lbnQuVXNlci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb21tZW50LlVzZXIuRGlzcGxheU5hbWV9IikNCgkJCQkJCSNlbmQNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJCSNpZiAoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKQ0KCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvbW1lbnQuVXNlci5EaXNwbGF5TmFtZQ0KCQkJCQkJCTwvYT4NCgkJCQkJCSNlbHNlDQoJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb21tZW50LlVzZXIuRGlzcGxheU5hbWUNCgkJCQkJCSNlbmQNCgkJCQkJPC9zcGFuPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGNvbW1lbnQuQ3JlYXRlZERhdGUpPC9zcGFuPg0KCQkJCTwvZGl2Pg0KCQkJICAgIDxkaXYgY2xhc3M9InBvc3QtbW9kZXJhdGUiPg0KCQkJICAgICAgICAjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQ0KCQkJCQkJI3NldCgkbW9kZXJhdGVPcHRpb25zID0gIiV7fSIpDQogICAgICAgICAgICAgICAgICAgICAgICAjc2V0KCRjYW5EZWxldGUgPSAkY29yZV92Ml9jb21tZW50cy5DYW5EZWxldGVDb21tZW50KCRjb21tZW50LkNvbW1lbnRJZCkpDQoJCQkJCQkjaWYgKCRjYW5EZWxldGUpDQoJCQkJCQkJI3NldCgkRFEgPSAnIicpDQoJCQkJCQkJJG1vZGVyYXRlT3B0aW9ucy5BZGQoJ0FkZGl0aW9uYWxMaW5rcycsIlt7JHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sJHtEUX10ZXh0JHtEUX06JHtEUX0ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlbGV0ZScpfSR7RFF9LCR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX1kZWxldGUtcG9zdCR7RFF9fV0iKQ0KCQkJCQkJI2VuZA0KCQkJICAgICAgICAgICAgJGNvcmVfdjJfdWkuTW9kZXJhdGUoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgJG1vZGVyYXRlT3B0aW9ucykNCgkJCSAgICAgICAgI2VuZA0KCQkJICAgIDwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4NCgkJCQkJJGNvbW1lbnQuQm9keQ0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+DQoJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQoJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBwb3N0LWxpa2UtY291bnQiPg0KCQkJCQkJCSNpZiAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQpDQoJCQkJCQkJCSNzZXQgKCRsaWtlRm9ybWF0ID0gJ3t0b2dnbGV9IDxzcGFuIGNsYXNzPSJjb3VudCI+PHNwYW4gY2xhc3M9Imxpa2UtaW5kaWNhdG9yIGlubGluZSI+PC9zcGFuPntjb3VudH08L3NwYW4+JykNCgkJCQkJCQkjZWxzZQ0KCQkJCQkJCQkjc2V0ICgkbGlrZUZvcm1hdCA9ICc8c3BhbiBjbGFzcz0iY291bnQiPjxzcGFuIGNsYXNzPSJsaWtlLWluZGljYXRvciBpbmxpbmUiPjwvc3Bhbj57Y291bnR9PC9zcGFuPicpDQoJCQkJCQkJI2VuZA0KCQkJICAgICAgICAgICAgCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiRjb3JlX3YyX3VpLkxpa2UoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgIiV7IEZvcm1hdCA9ICRsaWtlRm9ybWF0IH0iKTwvc3Bhbj4NCgkJCSAgICAgICAgICAgIDwvbGk+DQoJCQkJCTwvdWw+DQoJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQkJCTwvZGl2Pg0KCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJI2lmICgkYXV0aG9ySWQgPT0gJGNvbW1lbnQuVXNlci5JZCkNCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIgdXNlci1pcy1hdXRob3IiPg0KCQkJCTxkaXYgY2xhc3M9InIgZmlqaS1yIGV2b2x1dGlvbjItciI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJI2Vsc2UNCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPg0KCQkJCTxkaXYgY2xhc3M9InIgZmlqaS1yIGV2b2x1dGlvbjItciI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJI2VuZA0KCQk8L2Rpdj4NCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNlbmQNCg0KI3NldCgkYmFzZVVybCA9ICRjb3JlX3YyX3BhZ2UuVXJsKQ0KI3NldCgkYmFzZVVybCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19iYXNlVXJsJykpDQoNCiQhY29yZV92Ml91aS5QYWdlcigkY29tbWVudHMuUGFnZUluZGV4LCAkY29tbWVudHMuUGFnZVNpemUsICRjb21tZW50cy5Ub3RhbENvdW50LCAiJXtUYXJnZXQ9J2NvbW1lbnRzJyxCYXNlVXJsPSRiYXNlVXJsLFBhZ2VkQ29udGVudEZpbGU9J2NvbW1lbnQtbG9hZC52bScsVHJhbnNpdGlvbj0nbm9uZSd9Iik=</file><file name="comment.vm">DQojc2V0KCRjYW5DcmVhdGVDb21tZW50ID0gJGNvcmVfdjJfY29tbWVudHMuQ2FuQ3JlYXRlQ29tbWVudCgkY29udGVudFVybCwgJGNsaWVudElkKSkNCiNpZiAoJGNhbkNyZWF0ZUNvbW1lbnQpDQoJDQogICAgPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzdWNjZXNzTWVzc2FnZScpIiBjbGFzcz0ibWVzc2FnZSBzdWNjZXNzIj4NCiAgICAJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NpdGVjb3JlX0NvbW1lbnRfU3VjY2Vzc01lc3NhZ2UnKSAmbmJzcDsNCiAgICAJPGEgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgY2xvc2UtbWVzc2FnZSIgdGl0bGU9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDbG9zZScpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Nsb3NlJyk8L2E+DQogICAgPC9kaXY+DQogICAgDQogICAgPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdtb2RlcmF0ZU1lc3NhZ2UnKSIgY2xhc3M9Im1lc3NhZ2Ugd2FybmluZyI+DQogICAgCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTaXRlY29yZV9Db21tZW50X01vZGVyYXRlZE1lc3NhYWdlJykgJm5ic3A7DQogICAgCTxhIGhyZWY9IiMiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNsb3NlLW1lc3NhZ2UiIHRpdGxlPSIkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ2xvc2UnKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDbG9zZScpPC9hPg0KICAgIDwvZGl2Pg0KICAgIA0KICAgIDxkaXYgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZXJyb3JNZXNzYWdlJykiIGNsYXNzPSJtZXNzYWdlIGVycm9yIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvZGl2Pg0KICAgIA0KICAgIDxkaXYgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZm9ybScpIj4NCiAgICAJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KICAgIAk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KICAgIAkJPGxlZ2VuZCBjbGFzcz0iZmllbGQtbGlzdC1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NpdGVjb3JlX0NvbW1lbnRGb3JtX0xlYXZlQ29tbWVudCcpPC9sZWdlbmQ+DQogICAgCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KICAgIAkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LWJvZHkiPg0KICAgIAkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQogICAgCQkJCQk8dGV4dGFyZWEgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYm9keScpIiByb3dzPSIzIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2JvZHknKSIgc3R5bGU9InJlc2l6ZTogbm9uZTsgb3ZlcmZsb3cteTogaGlkZGVuOyI+PC90ZXh0YXJlYT4NCiAgICAJCQkJPC9zcGFuPg0KICAgIAkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4NCiAgICAJCQk8L2xpPg0KICAgIAkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LXN1Ym1pdCI+DQogICAgCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCiAgICAJCQkJCTxhIGhyZWY9IiMiIG9uY2xpY2s9InJldHVybiBmYWxzZTsiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1yZXBseSBzdWJtaXQtYnV0dG9uIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzYXZlJykiPg0KICAgIAkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2l0ZWNvcmVfQ29tbWVudEZvcm1fUG9zdENvbW1lbnQnKQ0KICAgIAkJCQkJPC9hPg0KICAgIAkJCQkJPHNwYW4gY2xhc3M9InByb2Nlc3NpbmciIHN0eWxlPSJ2aXNpYmlsaXR5OiBoaWRkZW47Ij48L3NwYW4+DQogICAgCQkJCTwvc3Bhbj4NCiAgICAJCQk8L2xpPg0KICAgIAkJPC91bD4NCiAgICAJPC9maWVsZHNldD4NCiAgICAJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KDQojZW5k</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQogICAgJC50ZWxsaWdlbnQgPSAkLnRlbGxpZ2VudCB8fCB7fTsNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gfHwge307DQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyB8fCB7fTsNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5zaXRlY29yZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVjb3JlIHx8IHt9Ow0KICAgIA0KICAgIHZhciBlcnJvckh0bWwgPSAnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciI+e0Vycm9yVGV4dH08L2Rpdj4nLA0KICAgIGxvYWRpbmdIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyI+e0xvYWRpbmdUZXh0fTwvZGl2PicsDQogICAgYXR0YWNoQ29tbWVudEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkNCiAgICB7DQogICAgICAgICQoY29udGV4dC53cmFwcGVyKS5iaW5kKCdldm9sdXRpb25Nb2RlcmF0ZUxpbmtDbGlja2VkJyxmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgY29tbWVudElkID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbnRlbnQtaXRlbScpLmRhdGEoJ2NvbW1lbnRpZCcpOw0KICAgICAgICAgICAgZGVsZXRlQ29tbWVudChjb250ZXh0LCBjb21tZW50SWQsIGUpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgICQoY29udGV4dC5zYXZlKS5ldm9sdXRpb25WYWxpZGF0aW9uKA0KICAgICAgICB7DQogICAgICAgICAgICBvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykNCiAgICAgICAgCXsNCiAgICAgICAgCQlpZiAoaXNWYWxpZCkNCiAgICAgICAgCQkJJChjb250ZXh0LnNhdmUpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAJCWVsc2UNCiAgICAgICAgCQkJJChjb250ZXh0LnNhdmUpLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAJfSwNCiAgICAgICAgCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKQ0KICAgICAgICAJew0KICAgICAgICAJCWUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgCQkkKCcucHJvY2Vzc2luZycsICQoY29udGV4dC5zYXZlKS5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsNCiAgICAgICAgCQlzYXZlKGNvbnRleHQpOw0KICAgICAgICAJfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihjb250ZXh0LCBjb21tZW50SWQsIGV2ZW50KSB7DQogICAgICAgIGlmKGNvbmZpcm0oY29udGV4dC5kZWxldGVWZXJpZmljYXRpb25UZXh0KSkgew0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7DQogICAgICAgICAgICAgICAgdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvY29tbWVudHMve0NvbW1lbnRJZH0uanNvbicsDQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICBDb21tZW50SWQ6IGNvbW1lbnRJZA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCdhW25hbWU9Y29tbWVudC0nK2NvbW1lbnRJZCsnXScsIGNvbnRleHQud3JhcHBlcikuY2xvc2VzdCgnbGkuY29udGVudC1pdGVtJyk7DQogICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdJdGVtcyA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCd1bCcpLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbScpOzsNCiAgICAgICAgICAgICAgICAgICAgaXRlbS5zbGlkZVVwKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdlcmUgbm8gbW9yZSBjb21tZW50cywgaGlkZSB0aGUgY29tbWVudHMgbGlzdCBhbHRvZ2V0aGVyDQogICAgICAgICAgICAgICAgICAgICAgICBpZigkKGNvbnRleHQud3JhcHBlcikuZmluZCgnbGknKS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGNvbnRleHQud3JhcHBlcikuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvbW1lbnRzKGNvbnRleHQsIHJlbWFpbmluZ0l0ZW1zLmxlbmd0aCA9PT0gMSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfSwNCiAgICBsb2FkQ29tbWVudHMgPSBmdW5jdGlvbihjb250ZXh0LCByZWJhc2VQYWdlcikgew0KICAgICAgICANCiAgICAgICAgdmFyIGRhdGEgPSB7IA0KICAgICAgICAgICAgY29udGVudFVybDogY29udGV4dC5jb250ZW50VXJsLA0KICAgICAgICAgICAgY29udGVudFR5cGVJZDogY29udGV4dC5jb250ZW50VHlwZUlkLA0KICAgICAgICAgICAgY2xpZW50SWQ6IGNvbnRleHQuY2xpZW50SWQsDQogICAgICAgICAgICB3X2Jhc2VVcmw6IGNvbnRleHQuYmFzZVVybA0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgaWYocmViYXNlUGFnZXIpIHsNCiAgICAgICAgICAgIGRhdGFbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0gPSAxOw0KICAgIA0KICAgICAgICAgICAgdmFyIGhhc2hEYXRhID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YSgpOw0KICAgICAgICAgICAgaGFzaERhdGFbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0gPSAxOw0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YShoYXNoRGF0YSk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICQoY29udGV4dC53cmFwcGVyKS5mYWRlVG8oInNsb3ciLCAwLjMzKTsNCiAgICAgICAgDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LmxvYWRDb21tZW50c1VybCwNCiAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgIHNldENvbnRlbnQoY29udGV4dCwgcmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yVGV4dCwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KSB7DQogICAgICAgICAgICAgICAgc2V0Q29udGVudChjb250ZXh0LCBlcnJvckh0bWwucmVwbGFjZSgve0Vycm9yVGV4dH0vZywgZGVzYykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHNhdmUgPSBmdW5jdGlvbihjb250ZXh0KQ0KICAgIHsNCiAgICAJJChjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlKS5oaWRlKCk7DQogICAgCSQoY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UpLmhpZGUoKTsNCiAgICAJJChjb250ZXh0LmVycm9yTWVzc2FnZSkuaGlkZSgpOw0KICAgICAgICANCiAgICAJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCiAgICANCiAgICAJJChjb250ZXh0LnNhdmUpDQogICAgCQkuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hpbmdUZXh0KQ0KICAgIAkJLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgIA0KICAgIAkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9jb21tZW50cy5qc29uP0luY2x1ZGVGaWVsZHM9Q29tbWVudC5JZCxDb21tZW50LklzQXBwcm92ZWQnLA0KICAgIAkJZGF0YToNCiAgICAJCXsNCiAgICAJCQlCb2R5OiAkKGNvbnRleHQuYm9keVNlbGVjdG9yKS52YWwoKSwNCiAgICAJCQlDb250ZW50VXJsOiBjb250ZXh0LmNvbnRlbnRVcmwsDQogICAgCQkJQ29tbWVudFR5cGVJZDogY29udGV4dC5jb250ZW50VHlwZUlkDQogICAgCQl9LA0KICAgIAkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgCQl7DQogICAgCQkJJCgnLnByb2Nlc3NpbmcnLCB3KS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7DQogICAgDQogICAgCQkJaWYocmVzcG9uc2UuQ29tbWVudC5Jc0FwcHJvdmVkKQ0KICAgIAkJCXsNCiAgICAJCQkJJChjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlKS5zbGlkZURvd24oKTsNCiAgICAJCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsgJChjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlKS5mYWRlT3V0KCkuc2xpZGVVcCgpOyB9LCA5OTk5KTsNCiAgICAJCQkJJChkb2N1bWVudCkudHJpZ2dlcihjb250ZXh0LmNvbW1lbnRQb3N0RXZlbnQsICcnKTsNCiAgICAJCQl9DQogICAgCQkJZWxzZQ0KICAgIAkJCXsNCiAgICAJCQkJJChjb250ZXh0Lm1vZGVyYXRlTWVzc2FnZSkuc2xpZGVEb3duKCk7DQogICAgCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ICQoY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UpLmZhZGVPdXQoKS5zbGlkZVVwKCk7IH0sIDk5OTkpOw0KICAgIAkJCX0NCiAgICANCiAgICAJCQkkKGNvbnRleHQuYm9keVNlbGVjdG9yKS52YWwoJycpOw0KICAgIAkJCSQoY29udGV4dC5zYXZlKS5ldm9sdXRpb25WYWxpZGF0aW9uKCdyZXNldCcpOw0KICAgIAkJCSQoY29udGV4dC5zYXZlKS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaFRleHQpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KICAgIAkJfSwNCiAgICAJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KICAgIAkJew0KICAgIAkJCSQoJy5wcm9jZXNzaW5nJywgdykuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KICAgIAkJCSQoY29udGV4dC5zYXZlKS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaFRleHQpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KICAgIAkJCSQoY29udGV4dC5lcnJvck1lc3NhZ2UpLmh0bWwoY29udGV4dC5wdWJsaXNoRXJyb3JUZXh0ICsgJyAoJyArIGRlc2MgKyAnKScpLnNsaWRlRG93bigpOw0KICAgIAkJfQ0KICAgIAl9KTsNCiAgICB9LA0KICAgIHNldENvbnRlbnQgPSBmdW5jdGlvbihjb250ZXh0LCBodG1sKSB7DQogICAgICAgICQoY29udGV4dC53cmFwcGVyKS5odG1sKGh0bWwpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIikuZmFkZVRvKCJmYXN0IiwgMS4wKTs7DQogICAgfTsNCiAgICANCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5zaXRlY29yZS5zb2NpYWxjb250ZW50ID0NCiAgICB7DQogICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KICAgICAgICB7DQogICAgICAgICAgICBhdHRhY2hDb21tZW50SGFuZGxlcnMoY29udGV4dCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgICQoZG9jdW1lbnQpLmJpbmQoY29udGV4dC5jb21tZW50UG9zdEV2ZW50LCBmdW5jdGlvbihlLCBtZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgbG9hZENvbW1lbnRzKGNvbnRleHQpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIA0KfSkoalF1ZXJ5KTs=</file></files></scriptedContentFragment></scriptedContentFragments>