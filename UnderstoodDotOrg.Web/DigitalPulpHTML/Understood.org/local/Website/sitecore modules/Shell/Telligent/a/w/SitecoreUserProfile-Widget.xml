<scriptedContentFragments><scriptedContentFragment name="Sitecore User Profile" version="6.0.0.1" description="${resource:Core_UserProfile_Description}" instanceIdentifier="172e0467742d409c8fcf3d3b6b6e7262" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-profile"><contentScript>#set($user = false)
#set($user = $core_v2_user.Current)
#if (!$user)
	$core_v2_widget.Hide()
#end

#set($readOnly = false)
#if (!$core_v2_editableGroup.IsEditable('User') || $user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set($readOnly = true)
#end

#if ($readOnly)
	#set($bio = false)
	#set($bio = $user.Bio())
	#if ($bio &amp;&amp; $core_v2_utility.ContainsContent($bio))
		&lt;div class="user-defined-markup"&gt;$bio&lt;/div&gt;
	#else
		&lt;div class="message directions"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('ViewUserProfile_MyBio_NotEntered'), $user.DisplayName)&lt;/div&gt;
	#end
#else
	$core_v2_editor.Render($core_v2_widget.UniqueId('editor'), "%{Value=$user.Bio('raw'),Width='100%',Height='400px'}")

	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		//&lt;![CDATA[
		jQuery(document).ready(function() {
			var save = function(success, failure)
			{
				jQuery.telligent.evolution.put({
					url: jQuery.telligent.evolution.site.getBaseUrl() + 'api.ashx/v2/users/{UserId}.json?IncludeFields=Id',
					data: {
						UserId: $user.Id,
						Bio: $core_v2_editor.GetContentScript($core_v2_widget.UniqueId('editor'))
					},
					success: function(response) { success(); },
					error: function(xhr, desc, ex) { jQuery.telligent.evolution.notifications.show(desc,{type:'error'}); failure(); }
				});
			}
			$core_v2_editableGroup.GetRegistrationScript('User', 'save')
		});
		//]]&gt;
		&lt;/script&gt;
	#end
#end</contentScript><headerScript>#set($user = false)
#set($user = $core_v2_user.Current)
#if ($user)
	$core_v2_language.FormatString($core_v2_language.GetResource('Core_UserProfile_Header'), $user.DisplayName)
#end</headerScript><languageResources><language key="en-us"><resource name="Core_UserProfile_Name">User Profile</resource><resource name="Core_UserProfile_Description">Displays a users profile information.</resource><resource name="ViewUserProfile_MyBio_NotEntered">{0} has not entered a biography.</resource><resource name="Core_UserProfile_Header">About {0}</resource></language></languageResources><additionalCssScript>#if ($core_v2_editableGroup.IsEditable('User') &amp;&amp; $core_v2_user.Current.Id == $core_v2_user.Accessing.Id &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	editable
#end</additionalCssScript><requiredContext><context id="0233cbb383784e11a1e5e541f3b0a795" /></requiredContext></scriptedContentFragment></scriptedContentFragments>