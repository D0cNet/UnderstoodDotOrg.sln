<scriptedContentFragments><scriptedContentFragment name="Sitecore-User-Banner" version="7.6.0.33368" description="${resource:Core_UserBanner_Description}" instanceIdentifier="1b5ec2a2ad2e43f58aebed71a10a8c2e" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-banner"><contentScript>#set($user = false)
#set($user = $core_v2_user.Current)

#set($isEditable = true)
#if ($user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
    #set($isEditable = false)
#end
#set ($isInEditMode = true)
#if (!$isEditable || !$core_v2_editableGroup.IsEditable('User'))
	#set ($isInEditMode = false)
#end

#set($contextId = $core_v2_uploadedFile.CreateContextId())
#set($editAvatarUrl = $core_v2_page.AdjustQueryString($core_v2_widget.GetExecutedFileUrl('editavatar.vm'), "contextId=$contextId&amp;uploadAvatarUrl=$core_v2_encoding.UrlEncode($core_v2_uploadedFile.GetUploadUrl($contextId))"))

&lt;div class="user-banner-header"&gt;&lt;/div&gt;
&lt;div class="user-banner"&gt;
	&lt;h3 class="user-name"&gt;$user.DisplayName&lt;/h3&gt;
	&lt;div class="user-avatar"&gt;
		#if($isInEditMode)
			&lt;a href="#" id="$core_v2_widget.UniqueId('editavatar')" class="internal-link edit-avatar" title="$core_v2_language.GetResource('EditProfile_ChangeAvatar')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_ChangeAvatar')&lt;/a&gt;
			$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
		#else
			#if ($user.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($user.ProfileUrl)"&gt;
					$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
				&lt;/a&gt;
			#else
				$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
			#end
		#end
	&lt;/div&gt;
	#foreach($statusMessage in $core_v2_statusMessage.List("%{UserId=$user.Id,PageSize=1}"))
		&lt;div class="user-status"&gt;
			&lt;div class="user-status-header fiji-user-status-header evolution2-user-status-header"&gt;&lt;/div&gt;
			&lt;div class="user-status-content fiji-user-status-content evolution2-user-status-content user-defined-markup"&gt;
				&lt;span class="status-message"&gt;$statusMessage.RenderedBody&lt;/span&gt;
				&lt;span class="status-date"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('ActivityMessage_MessageDate'), $core_v2_language.FormatDateAndTime($statusMessage.CreatedDate))&lt;/span&gt;
			&lt;/div&gt;
			&lt;div class="user-status-footer fiji-user-status-footer evolution2-user-status-footer"&gt;&lt;/div&gt;
		&lt;/div&gt;
	#end
	&lt;div class="user-banner-actions"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($isInEditMode)
				&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('save')" class="internal-link save-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Core_UserBanner_SaveProfile')&lt;/a&gt;&lt;/li&gt;
				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_editableGroup.GetViewUrl('User'))" id="$core_v2_widget.UniqueId('cancel')" class="internal-link cancel"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Cancel')&lt;/a&gt;&lt;/li&gt;
			#else
				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_user.Accessing.Id != $user.Id)
					#set($friendshipState = 'NotSpecified')
					#set($friendship = false)
					#set($friendship = $core_v2_friendship.Get("%{UserId=$core_v2_user.Accessing.Id,FriendId=$user.Id}"))
					#if ($friendship)
						#set($friendshipState = $friendship.FriendshipState)
					#end

					#if ($friendshipState == 'NotSpecified')
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('friendrequest')" class="internal-link request-friendship"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Add')&lt;/a&gt;&lt;/li&gt;
					#elseif ($friendshipState == 'Approved')
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('deletefriendship')" class="internal-link delete-friendship"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Remove')&lt;/a&gt;&lt;/li&gt;
					#else
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('cancelfriendship')" class="internal-link cancel-friend-request"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Cancel')&lt;/a&gt;&lt;/li&gt;
					#end

					##set($url = false)
					##set($url = $core_v2_urls.AddConversation($user.Id))
					##if ($url)
					##	&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="jQuery.glowModal('$core_v2_encoding.HtmlAttributeEncode($core_v2_encoding.JavascriptEncode($url))',{width: 550,height: 360});return false;" class="internal-link start-conversation"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_FriendsPrivateMessage')&lt;/a&gt;&lt;/li&gt;
					##end
				#end

				#if ($core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_nodePermission.Get('Site_ContactMembers').IsAllowed)
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:$core_v2_encoding.HtmlAttributeEncode($user.PrivateEmail)" class="internal-link send-email"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_SendEmail')&lt;/a&gt;&lt;/li&gt;
				#end

				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_user.Accessing.Id != $user.Id)
					#set ($following = false)
					#set ($following = $core_v2_following.Get($core_v2_user.Accessing.Id, "%{FollowingId=$user.Id}"))
					&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('followUser')" href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/li&gt;
					#registerEndOfPageHtml()
						&lt;script type="text/javascript"&gt;
						//&lt;![CDATA[
						jQuery(function(){
							jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink({
								onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('StopFollowingUser'))',
								offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FollowUser'))',
								processingHtml: '&lt;span&gt;&lt;/span&gt;...',
								changeState: function(val) {
									jQuery.telligent.evolution.post({
										url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('follow.vm'))',
										data: {follow:val,userId:$user.Id},
										dataType: 'json',
										success: function(response) { jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink('val', response.follow); },
										error: function(xhr, desc, ex) { jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink('val', !val); }
									});
								},
								onCssClass: 'internal-link favorite-on',
								offCssClass: 'internal-link favorite-off',
								processingCssClass: 'internal-link processing',
								val: #if($following.Id) true#else false#end
							});
						});
						//]]&gt;
						&lt;/script&gt;
					#end
				#end

				#if($isEditable)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_editableGroup.GetEditUrl('User'))" class="internal-link edit-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Core_UserBanner_EditProfile')&lt;/a&gt;&lt;/li&gt;
				#end
			#end
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="user-banner-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.userBanner')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(function(){
		jQuery.telligent.evolution.widgets.userBanner.register({
			inEditMode:#if($isInEditMode) true#else false#end,
			userId: $user.Id,
			accessingUserId: $core_v2_user.Accessing.Id,
			wrapperId: '#$core_v2_widget.WrapperElementId',
			#if ($isInEditMode)
				editAvatar: '$core_v2_widget.UniqueId('editavatar')',
				editAvatarUrl: '$editAvatarUrl',
				save: '$core_v2_widget.UniqueId('save')',
				cancel: '$core_v2_widget.UniqueId('cancel')',
				viewUrl: '$core_v2_encoding.JavascriptEncode($core_v2_editableGroup.GetViewUrl('User'))',
				avatarUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('avatar.vm'))',
			#end
			friendRequest: '$core_v2_widget.UniqueId('friendrequest')',
			friendRequestUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('requestfriend.vm'))',
			friendRequestMessage: '$core_v2_encoding.JavascriptEncode($!core_v2_configuration.DefaultFriendshipRequestMessage)',
			friendCancel: '$core_v2_widget.UniqueId('cancelfriendship')',
			friendDelete: '$core_v2_widget.UniqueId('deletefriendship')',
			friendCancelConfirmation: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ViewUserProfile_FriendDeleteConfirm'))',
			friendDeleteConfirmation: ''
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end</contentScript><headerScript>$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiBanner_Name}'))</headerScript><configuration>&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserBanner_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Extensions.SitecoreConnect" /&gt;
&lt;/propertyGroup&gt;</configuration><languageResources><language key="en-us"><resource name="Core_UserBanner_Name">User - Banner</resource><resource name="Core_UserBanner_Description">Displays a banner of common user information and links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="EditProfile_ChangeAvatar">Change avatar</resource><resource name="ActivityMessage_MessageDate">on {0}</resource><resource name="Core_UserBanner_SaveProfile">Save Profile</resource><resource name="Cancel">Cancel</resource><resource name="Friend_Add">Add as Friend</resource><resource name="Friend_Remove">Remove as Friend</resource><resource name="Friend_Cancel">Cancel Pending Friendship</resource><resource name="EditProfile_FriendsPrivateMessage">Start conversation</resource><resource name="EditProfile_SendEmail">Send Email</resource><resource name="StopFollowingUser">Stop Following</resource><resource name="FollowUser">Follow</resource><resource name="Core_UserBanner_EditProfile">Edit Profile</resource><resource name="ViewUserProfile_FriendDeleteConfirm">Are you sure you want to delete this friendship?</resource><resource name="FriendsRequest_BlankMessageError">Please provide a message.</resource><resource name="FriendRequest_Send">Send Request</resource><resource name="FriendRequest_Title">Send a friend request</resource><resource name="FriendRequest_From">From:</resource><resource name="FriendRequest_To">To:</resource><resource name="EditProfile_UploadAvatar">Upload an Avatar</resource><resource name="EditProfile_UploadAvatar_Desc">Select and upload an image that you would like to use for your avatar.</resource><resource name="EditProfile_AvatarUploadButton">Upload and Use Image</resource><resource name="EditProfile_RemoveAvatar">Remove Avatar</resource><resource name="EditProfile_AvatarSelect">Select an Avatar</resource><resource name="EditProfile_AvatarSelect_Desc">Select a predefined image that you would like to use for your avatar.</resource><resource name="EditProfile_UseSelectedAvatar">Use Selected Image</resource><resource name="EditProfile_AvatarUrl">Link to an Avatar</resource><resource name="EditProfile_AvatarUrl_Desc">Provide the URL to an image that you would like to use as your avatar.</resource><resource name="EditProfile_UseLinkedAvatar">Use Linked Image</resource><resource name="EditProfile_UploadAvatarTab">Upload an Avatar</resource><resource name="EditProfile_LinkToAvatarTab">Link to an Avatar</resource><resource name="Media_Insert_FileUpload_Error">There was an error uploading the file.</resource><resource name="Avatar_Upload_ClickToBrowse">Click browse to select an image from your computer.</resource><resource name="RequiredField">This field is required.</resource><resource name="Avatar_Url_ImageUrl">Type or paste in the URL to the image you want to use.</resource></language></languageResources><requiredContext><context id="0233cbb383784e11a1e5e541f3b0a795" /></requiredContext><files><file name="avatar.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQojc2V0ICgkdXNlcklkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdXNlcklkJykpKQ0KI3NldCAoJGF2YXRhclVybCA9IGZhbHNlKQ0KI3NldCAoJGF2YXRhclVybCA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle0lkPSR1c2VySWR9IikuQXZhdGFyVXJsKQ0KI2lmICgkYXZhdGFyVXJsKQ0KCXsiYXZhdGFyIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhdmF0YXJVcmwsIDgwLCA4MCwgIiV7Ym9yZGVyPScwJ30iKSkifQ0KI2Vsc2UNCgkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoIlRoZSB1c2VyJ3MgYXZhdGFyIGNvdW50IG5vdCBiZSByZXRyaWV2ZWQuIikNCiNlbmQNCg0K</file><file name="editavatar.vm">I3NldCgkY29udGV4dFVzZXIgPSBmYWxzZSkNCiNzZXQoJGNvbnRleHRVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpDQoNCiNpZiAoISRjb250ZXh0VXNlciB8fCAkY29udGV4dFVzZXIuSXNBbm9ueW1vdXMpDQoJJGNvcmVfdjJfd2lkZ2V0LkhpZGUoKQ0KI2VuZA0KDQojc2V0KCRjdXJyZW50QWF2dGFyRXhpc3QgPSB0cnVlKQ0KDQoNCiNzZXQoJGVuYWJsZVJlbW90ZUF2YXRhcnMgPSB0cnVlKQ0KI3NldCgkZW5hYmxlU2VsZWN0YWJsZUF2YXRhcnMgPSB0cnVlKQ0KI3NldCgkZW5hYmxlVXBsb2FkZWRBdmF0YXJzID0gdHJ1ZSkNCg0KI3NldCgkc2VsZWN0YWJsZUF2YXRhcnMgPSBmYWxzZSkNCiNzZXQoJHNlbGVjdGFibGVBdmF0YXJzID0gWyJ+L2Nmcy1maWxlLmFzaHgvX19rZXkvY29tbXVuaXR5c2VydmVyLWNvbXBvbmVudHMtc2VsZWN0YWJsZWF2YXRhcnMvMDNiMmM4NzUtZmJmYi00ZDI2LTgwMDAtZWYwMDFiOWY0NzI4L2F2YXRhci5wbmciLCAifi9jZnMtZmlsZS5hc2h4L19fa2V5L2NvbW11bml0eXNlcnZlci1jb21wb25lbnRzLXNlbGVjdGFibGVhdmF0YXJzLzI4M2EwMWUzLTA5Y2QtNGEyZC1iODU3LWJkYzBhYWQ4MDgyMi9hdmF0YXIucG5nIiwgIn4vY2ZzLWZpbGUuYXNoeC9fX2tleS9jb21tdW5pdHlzZXJ2ZXItY29tcG9uZW50cy1zZWxlY3RhYmxlYXZhdGFycy83MzViMTcxZi02MWI1LTQyYzktOTBlYy0xZGQxN2UxYzk5YjQvYXZhdGFyLnBuZyIsICJ+L2Nmcy1maWxlLmFzaHgvX19rZXkvY29tbXVuaXR5c2VydmVyLWNvbXBvbmVudHMtc2VsZWN0YWJsZWF2YXRhcnMvYzExMTcyM2QtM2Q5YS00YmFiLWEwMWQtOGFjMTJiNTc3OTM3L2F2YXRhci5wbmciXSkNCg0KDQojc2V0KCRlZGl0b3JUYWJzSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VkaXRvclRhYnMnKSkNCiNzZXQoJGF2YXRhclVwbG9hZFRhYklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBdmF0YXJVcGxvYWRUYWInKSkNCiNzZXQoJGF2YXRhclNlbGVjdGlvblRhYklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBdmF0YXJTZWxlY3Rpb25UYWInKSkNCiNzZXQoJGF2YXRhckxpbmtUYWJJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQXZhdGFyTGlua1RhYicpKQ0KI3NldCgkdXBsb2FkQXZhdGFyQ29udGFpbmVySWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1VwbG9hZEF2YXRhckNvbnRhaW5lcklkJykpDQojc2V0KCR1cGxvYWRBdmF0YXJTdGF0ZUlkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdVcGxvYWRBdmF0YXJTdGF0ZUlkJykpDQojc2V0KCRzdWJtaXRBdmF0YXJJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnU3VibWl0QXZhdGFySWQnKSkNCiNzZXQoJHVwZGF0ZVNlbGVjdGVkQXZhdGFySWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1VwZGF0ZVNlbGVjdGVkQXZhdGFySWQnKSkNCiNzZXQoJHNlbGVjdGFibGVBdmF0YXJzSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1NlbGVjdGFibGVBdmF0YXJzSWQnKSkNCiNzZXQoJHVwZGF0ZUxpbmtlZEF2YXRhcklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdVcGRhdGVMaW5rZWRBdmF0YXJJZCcpKQ0KI3NldCgkYXZhdGFyVXJsSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0F2YXRhclVybElkJykpDQoNCg0KDQo8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIi0vL1czQy8vRFREIFhIVE1MIDEuMCBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCI+IA0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHhtbDpsYW5nPSJlbiIgbGFuZz0iZW4iPg0KPGhlYWQ+DQoJPHRpdGxlPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9DaGFuZ2VBdmF0YXInKTwvdGl0bGU+DQoJJGNvcmVfdjJfcGFnZS5SZW5kZXJUaGVtZUhlYWRlcnMoIiV7IElzTW9kYWwgPSAgJ3RydWUnIH0iKQ0KICAgIDxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9IiRzaXRlY29yZV92Ml9jb25maWd1cmF0aW9uLk1vZGFsVGhlbWVVcmwiPg0KPC9oZWFkPg0KPGJvZHk+DQoNCjxmb3JtIGlkPSJ1cGxvYWRGb3JtIiBuYW1lPSJ1cGxvYWRGb3JtIj4NCgk8ZGl2IGlkPSIkZWRpdG9yVGFic0lkIj4NCg0KCQkjaWYgKCRlbmFibGVVcGxvYWRlZEF2YXRhcnMpDQoJCTxkaXYgaWQ9IiRhdmF0YXJVcGxvYWRUYWJJZCI+DQoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBhdmF0YXItdXBsb2FkIj4NCgkJCQkJCTxsYWJlbCBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9VcGxvYWRBdmF0YXIiKTwvbGFiZWw+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX1VwbG9hZEF2YXRhcl9EZXNjIik8L3NwYW4+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJCQkJPGRpdiBpZD0iJHVwbG9hZEF2YXRhckNvbnRhaW5lcklkIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmUiPg0KCQkJCQkJCQk8aW5wdXQgdHlwZT0iZmlsZSIgLz4NCgkJCQkJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iaGlkZGVuSW5wdXROYW1lIiBpZD0iJHVwbG9hZEF2YXRhclN0YXRlSWQiIHZhbHVlPSJjb250ZXh0VmFsdWU6IiAvPg0KCQkJCQkJCTwvZGl2Pg0KCQkJCQkJPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+DQoJCQkJCTwvbGk+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBzdWJtaXQtZm9ybSI+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgc3VibWl0LWZvcm0iIGhyZWY9IiMiIGlkPSIkc3VibWl0QXZhdGFySWQiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfQXZhdGFyVXBsb2FkQnV0dG9uJyk8L2E+DQoJCQkJCQkJI2lmKCRjdXJyZW50QWF2dGFyRXhpc3QpIA0KCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBzdWJtaXQtZm9ybSByZW1vdmUtYXZhdGFyIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX1JlbW92ZUF2YXRhcicpPC9hPg0KCQkJCQkJCSNlbmQNCgkJCQkJCQk8c3BhbiBjbGFzcz0icHJvY2Vzc2luZyIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbjsiPjwvc3Bhbj4NCgkJCQkJCTwvc3Bhbj4NCgkJCQkJPC9saT4NCgkJCQk8L3VsPg0KCQkJPC9maWVsZHNldD4NCgkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkJPC9kaXY+DQogICAgICAgICAgICAJI2VuZA0KDQoJCSNpZiAoJGVuYWJsZVNlbGVjdGFibGVBdmF0YXJzICYmICRzZWxlY3RhYmxlQXZhdGFycyAmJiAkc2VsZWN0YWJsZUF2YXRhcnMuQ291bnQgPiAwKQ0KCQk8ZGl2IGlkPSIkYXZhdGFyU2VsZWN0aW9uVGFiSWQiPiAgDQoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBhdmF0YXItc2VsZWN0Ij4NCgkJCQkJCTxsYWJlbCBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9BdmF0YXJTZWxlY3QiKTwvbGFiZWw+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0F2YXRhclNlbGVjdF9EZXNjIik8L3NwYW4+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJCQkJPHNwYW4gaWQ9IiRzZWxlY3RhYmxlQXZhdGFyc0lkIj4NCgkJCQkJCQkJI2ZvcmVhY2ggKCRhdmF0YXJVcmwgaW4gJHNlbGVjdGFibGVBdmF0YXJzKQ0KCQkJCQkJCQkJPGlucHV0IGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhdmF0YXJVcmwpIiBuYW1lPSdzZWxlY3RhYmxlQXZhdGFycycgdmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGF2YXRhclVybCkiIHR5cGU9InJhZGlvIj4NCgkJCQkJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGF2YXRhclVybCkiPjxzcGFuIHN0eWxlPSJsaW5lLWhlaWdodDo2MHB4O3dpZHRoOjYwcHg7Ij4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWxpZ249J2Fic21pZGRsZSd9Iik8L3NwYW4+PC9sYWJlbD4NCgkJCQkJCQkJI2VuZA0KCQkJCQkJCTwvc3Bhbj4NCgkJCQkJCTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gc3VibWl0LWZvcm0iPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHN1Ym1pdC1mb3JtIiBocmVmPSIjIiBpZD0iJHVwZGF0ZVNlbGVjdGVkQXZhdGFySWQiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfVXNlU2VsZWN0ZWRBdmF0YXInKTwvYT4NCgkJCQkJCQkjaWYoJGN1cnJlbnRBYXZ0YXJFeGlzdCkgDQoJCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHN1Ym1pdC1mb3JtIHJlbW92ZS1hdmF0YXIiIGhyZWY9IiMiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfUmVtb3ZlQXZhdGFyJyk8L2E+DQoJCQkJCQkJI2VuZA0KCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQk8L2ZpZWxkc2V0Pg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQk8L2Rpdj4NCgkJI2VuZA0KICAgICAgICAgIA0KCQkjaWYgKCRlbmFibGVSZW1vdGVBdmF0YXJzKSAgDQoJCTxkaXYgaWQ9IiRhdmF0YXJMaW5rVGFiSWQiPg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gYXZhdGFyLWxpbmsiPg0KCQkJCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0F2YXRhclVybCIpPC9sYWJlbD4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQXZhdGFyVXJsX0Rlc2MiKTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48aW5wdXQgdHlwZT0idGV4dCIgaWQ9IiRhdmF0YXJVcmxJZCIgbWF4bGVuZ3RoPSIyNTYiIHNpemU9IjYwIiAvPjwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gc3VibWl0LWZvcm0iPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPgkJCQkJCQkNCgkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBzdWJtaXQtZm9ybSIgaHJlZj0iIyIgaWQ9IiR1cGRhdGVMaW5rZWRBdmF0YXJJZCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9Vc2VMaW5rZWRBdmF0YXInKTwvYT4NCgkJCQkJCQkjaWYoJGN1cnJlbnRBYXZ0YXJFeGlzdCkgDQoJCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHN1Ym1pdC1mb3JtIHJlbW92ZS1hdmF0YXIiIGhyZWY9IiMiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfUmVtb3ZlQXZhdGFyJyk8L2E+DQoJCQkJCQkJI2VuZA0KCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQk8L2ZpZWxkc2V0Pg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQk8L2Rpdj4gIA0KCQkjZW5kDQoJPC9kaXY+DQo8L2Zvcm0+DQoNCjwvYm9keT4NCjwvaHRtbD4NCg0KI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVkaXRBdmF0YXInKQ0KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEZpbGVVcmwoInVpLmpzIikpIj48L3NjcmlwdD4NCiNlbmQNCg0KI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpDQoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KCQlqUXVlcnkoZnVuY3Rpb24oKXsNCgkJCWpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZWRpdEF2YXRhci5yZWdpc3Rlcih7DQoJCQkJdXNlcklkOiAnJGNvbnRleHRVc2VyLklkJywNCgkJCQl0YWJzOiBqUXVlcnkoJyMkZWRpdG9yVGFic0lkJyksDQoJCQkJYXZhdGFyVXBsb2FkVGFiSWQ6ICckYXZhdGFyVXBsb2FkVGFiSWQnLA0KCQkJCWF2YXRhclVwbG9hZFRhYlRleHQ6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9VcGxvYWRBdmF0YXJUYWIiKSknLA0KCQkJCWF2YXRhclNlbGVjdGlvblRhYklkOiAnJGF2YXRhclNlbGVjdGlvblRhYklkJywNCgkJCQlhdmF0YXJTZWxlY3Rpb25UYWJUZXh0OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQXZhdGFyU2VsZWN0IikpJywNCgkJCQlhdmF0YXJMaW5rVGFiSWQ6ICckYXZhdGFyTGlua1RhYklkJywNCgkJCQlhdmF0YXJMaW5rVGFiVGV4dDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0xpbmtUb0F2YXRhclRhYiIpKScsDQoJCQkJc3VibWl0QXZhdGFyQnV0dG9uOiBqUXVlcnkoJyMkc3VibWl0QXZhdGFySWQnKSwNCgkJCQlyZW1vdmVVcGxvYWRBdmF0YXJCdXR0b246IGpRdWVyeSgnLmludGVybmFsLWxpbmsuc3VibWl0LWZvcm0ucmVtb3ZlLWF2YXRhcicpLA0KCQkJCXVwbG9hZEF2YXRhckNvbnRhaW5lciA6IGpRdWVyeSgnIyR1cGxvYWRBdmF0YXJDb250YWluZXJJZCcpLA0KCQkJCXVwbG9hZEF2YXRhclN0YXRlSWQgOiAnIyR1cGxvYWRBdmF0YXJTdGF0ZUlkJywNCgkJCQl1cGxvYWRBdmF0YXJVcmwgOiAiJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd1cGxvYWRBdmF0YXJVcmwnKSIsDQoJCQkJZmlsZVVwbG9hZENvbnRleHRJZCA6ICIkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ2NvbnRleHRJZCcpIiwNCgkJCQl1cGxvYWRpbmdBdmF0YXJFcnJvck1lc3NhZ2U6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJNZWRpYV9JbnNlcnRfRmlsZVVwbG9hZF9FcnJvciIpKScsDQoJCQkJbWlzc2luZ0F2YXRhckVycm9yTWVzc2FnZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkF2YXRhcl9VcGxvYWRfQ2xpY2tUb0Jyb3dzZSIpKScsDQoJCQkJdXBkYXRlU2VsZWN0ZWRBdmF0YXJCdXR0b246IGpRdWVyeSgnIyR1cGRhdGVTZWxlY3RlZEF2YXRhcklkJyksDQoJCQkJc2VsZWN0YWJsZUF2YXRhcnNTZWxlY3RvcjogJyMkc2VsZWN0YWJsZUF2YXRhcnNJZCBpbnB1dCcsDQoJCQkJcmVxdWlyZWRBdmF0YXJFcnJvck1lc3NhZ2U6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJSZXF1aXJlZEZpZWxkIikpJywNCgkJCQl1cGRhdGVMaW5rZWRBdmF0YXJCdXR0b246IGpRdWVyeSgnIyR1cGRhdGVMaW5rZWRBdmF0YXJJZCcpLA0KCQkJCWF2YXRhclVybDogalF1ZXJ5KCcjJGF2YXRhclVybElkJyksDQoJCQkJcmVxdWlyZWRBdmF0YXJVcmxFcnJvck1lc3NhZ2U6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJBdmF0YXJfVXJsX0ltYWdlVXJsIikpJw0KCQkJfSk7DQoJCX0pOw0KCTwvc2NyaXB0Pg0KI2VuZA==</file><file name="follow.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmb2xsb3cgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9sbG93JykpKQ0KCSNzZXQoJHVzZXJJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3VzZXJJZCcpKSkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRmb2xsb3dSZXN1bHQgPSBmYWxzZSkNCgkNCgkjaWYgKCRmb2xsb3cpDQoJCSNzZXQoJGZvbGxvd1Jlc3VsdCA9ICRjb3JlX3YyX2ZvbGxvd2luZy5DcmVhdGUoJHVzZXJJZCwgIiV7Rm9sbG93ZXJJZD0kY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZH0iKSkNCgkjZWxzZQ0KCQkjc2V0KCRmb2xsb3dSZXN1bHQgPSAkY29yZV92Ml9mb2xsb3dpbmcuRGVsZXRlKCIle0ZvbGxvd2luZ0lkPSR1c2VySWQsRm9sbG93ZXJJZD0kY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZH0iKSkNCgkjZW5kDQoNCgkjaWYgKCRmb2xsb3cpDQoJCXsiZm9sbG93Ijp0cnVlfQ0KCSNlbHNlDQoJCXsiZm9sbG93IjpmYWxzZX0gICAgDQoJI2VuZA0KI2VuZA==</file><file name="requestfriend.vm">PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCiAgICA8aGVhZD4NCiAgICAgICAgPHRpdGxlPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRSZXF1ZXN0X1RpdGxlJyk8L3RpdGxlPg0KDQogICAgCSNzZXQoJGlzTW9kYWwgPSB0cnVlKQ0KICAgIAkkY29yZV92Ml9wYWdlLlJlbmRlclRoZW1lSGVhZGVycygiJXsgSXNNb2RhbCA9ICRpc01vZGFsfSIpDQogICAgICAgIDxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9IiRzaXRlY29yZV92Ml9jb25maWd1cmF0aW9uLk1vZGFsVGhlbWVVcmwiPg0KICAgIDwvaGVhZD4NCiAgICA8Ym9keT4NCiAgICANCiAgICAgICAgI3NldCgkY29udGV4dFVzZXIgPSBmYWxzZSkNCiAgICAgICAgI3NldCgkY29udGV4dFVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykNCiAgICAgICAgI3NldCgkdXNlciA9IGZhbHNlKQ0KICAgICAgICAjc2V0KCR1c2VyID0gJGNvcmVfdjJfdXNlci5DdXJyZW50KQ0KICAgICAgICANCiAgICAgICAgI2lmICghJHVzZXIgfHwgJGNvbnRleHRVc2VyLklzQW5vbnltb3VzIHx8ICR1c2VyLklkID09ICRjb250ZXh0VXNlci5JZCkNCiAgICAgICAgICAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCiAgICAgICAgI2VuZA0KICAgICAgICANCiAgICAgICAgI3NldCAoJHJlcXVpcmVGcmllbmRSZXF1ZXN0TWVzc2FnZSA9ICdZZXMnKQ0KICAgICAgICAjc2V0ICgkbWVzc2FnZUlkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdNZXNzYWdlJykpDQogICAgICAgICNzZXQgKCRzZW5kQnV0dG9uSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1NlbmRCdXR0b25JZCcpKQ0KICAgICAgICANCiAgICAgICAgPGZvcm0gaWQ9InJlcXVlc3RGb3JtIiBuYW1lPSJyZXF1ZXN0Rm9ybSI+DQogICAgICAgIAk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQogICAgICAgIAk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KICAgICAgICAJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQogICAgICAgIAkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+DQogICAgICAgIAkJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9Gcm9tJyk8L2xhYmVsPg0KICAgICAgICAJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPiRjb250ZXh0VXNlci5EaXNwbGF5TmFtZSAoJGNvbnRleHRVc2VyLlByaXZhdGVFbWFpbCk8L3NwYW4+DQogICAgICAgIAkJCTwvbGk+DQogICAgICAgIAkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+DQogICAgICAgIAkJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9UbycpPC9sYWJlbD4NCiAgICAgICAgCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4kdXNlci5EaXNwbGF5TmFtZTwvc3Bhbj4NCiAgICAgICAgCQkJPC9saT4NCiAgICAgICAgCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGZyaWVuZC1tZXNzYWdlIj4NCiAgICAgICAgCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCiAgICAgICAgCQkJCQk8dGV4dGFyZWEgc3R5bGU9IndpZHRoOiA1MDBweDsgaGVpZ2h0OiAxMjBweDsiIGlkPSIkbWVzc2FnZUlkIiBjb2xzPSIyMCIgcm93cz0iMiI+JGNvcmVfdjJfbGFuZ3VhZ2UuUmVtb3ZlSHRtbCgkY29yZV92Ml9jb25maWd1cmF0aW9uLkRlZmF1bHRGcmllbmRzaGlwUmVxdWVzdE1lc3NhZ2UpPC90ZXh0YXJlYT4NCiAgICAgICAgCQkJCTwvc3Bhbj4NCiAgICAgICAgCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyBkaXNwbGF5OiBibG9jazsiPjwvc3Bhbj4NCiAgICAgICAgCQkJPC9saT4NCiAgICAgICAgCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIj4NCiAgICAgICAgCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCiAgICAgICAgCQkJCQk8YSBpZD0iJHNlbmRCdXR0b25JZCIgY2xhc3M9ImludGVybmFsLWxpbmsgc2F2ZS1mb3JtIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZFJlcXVlc3RfU2VuZCcpPC9hPg0KICAgICAgICAJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KICAgICAgICAJCQkJPC9zcGFuPg0KICAgICAgICAJCQk8L2xpPg0KICAgICAgICAJCTwvdWw+DQogICAgICAgIAk8L2ZpZWxkc2V0Pg0KICAgICAgICAJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICA8L2Zvcm0+DQogICAgICAgIA0KICAgICAgICAjcmVnaXN0ZXJFbmRPZlBhZ2VIdG1sKCd0ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMucmVxdWVzdEZyaWVuZHNoaXAnKQ0KICAgICAgICAJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RmlsZVVybCgidWkuanMiKSkiPjwvc2NyaXB0Pg0KICAgICAgICAjZW5kDQogICAgICAgIA0KICAgICAgICAjcmVnaXN0ZXJFbmRPZlBhZ2VIdG1sKCkNCiAgICAgICAgCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCiAgICAgICAgCQlqUXVlcnkoZnVuY3Rpb24oKXsNCiAgICAgICAgCQkJalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5yZXF1ZXN0RnJpZW5kc2hpcC5yZWdpc3Rlcih7DQogICAgICAgIAkJCQl1c2VySWQ6ICR1c2VyLklkLA0KICAgICAgICAJCQkJYWNjZXNzaW5nVXNlcklkOiAkY29udGV4dFVzZXIuSWQsDQogICAgICAgIAkJCQlzZW5kQnV0dG9uOiBqUXVlcnkoJyMkc2VuZEJ1dHRvbklkJyksDQogICAgICAgIAkJCQltZXNzYWdlSW5wdXQ6IGpRdWVyeSgnIyRtZXNzYWdlSWQnKSwNCiAgICAgICAgCQkJCXNlbmRSZXF1ZXN0VXJsIDogIiRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgndXBsb2FkRmlsZVVybCcpIiwNCiAgICAgICAgCQkJCXJlcXVpcmVGcmllbmRSZXF1ZXN0TWVzc2FnZTogJyRyZXF1aXJlRnJpZW5kUmVxdWVzdE1lc3NhZ2UnLA0KICAgICAgICAJCQkJYmxhbmtNZXNzYWdlRXJyb3JNZXNzYWdlIDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkZyaWVuZHNSZXF1ZXN0X0JsYW5rTWVzc2FnZUVycm9yIikpJw0KICAgICAgICAJCQl9KTsNCiAgICAgICAgCQl9KTsNCiAgICAgICAgCTwvc2NyaXB0Pg0KICAgICAgICAjZW5kDQogICAgPC9ib2R5Pg0KPC9odG1sPg==</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJJC50ZWxsaWdlbnQgPSAkLnRlbGxpZ2VudCB8fCB7fTsNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gfHwge307DQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyB8fCB7fTsNCg0KCXZhciBfcmVxdWVzdEZyaWVuZHNoaXAgPSBmdW5jdGlvbihhY2Nlc3NpbmdVc2VySWQsIHVzZXJJZCwgbWVzc2FnZSwgY29udGV4dCkNCgl7DQoJCXZhciBkYXRhID0gew0KCQkJQWNjZXNzaW5nVXNlcklkOiBhY2Nlc3NpbmdVc2VySWQsDQoJCQlSZXF1ZXN0ZWVJZDogdXNlcklkLA0KCQkJUmVxdWVzdE1lc3NhZ2U6IG1lc3NhZ2UNCgkJfTsNCg0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlcnMve0FjY2Vzc2luZ1VzZXJJZH0vZnJpZW5kcy5qc29uJywNCgkJCQlkYXRhOiBkYXRhLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJX3JlbG9hZFBhZ2UoKTsNCgkJCQl9LA0KCQkJCWVycm9yOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCQl7DQoJCQkJCWlmIChjb250ZXh0ICYmIGNvbnRleHQuc2VuZEJ1dHRvbikNCgkJCQkJew0KCQkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNlbmRCdXR0b24ucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQkJCWNvbnRleHQuc2VuZEJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJfQ0KCQkJCX0JCQkNCgkJfSk7DQoJfSwNCglfZGVsZXRlRnJpZW5kc2hpcCA9IGZ1bmN0aW9uKGFjY2Vzc2luZ1VzZXJJZCwgdXNlcklkKQ0KCXsNCgkJdmFyIGRhdGEgPSB7DQoJCQlBY2Nlc3NpbmdVc2VySWQ6IGFjY2Vzc2luZ1VzZXJJZCwNCgkJCVJlcXVlc3RlZUlkOiB1c2VySWQNCgkJfTsNCg0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsNCgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi91c2Vycy97QWNjZXNzaW5nVXNlcklkfS9mcmllbmRzL3tSZXF1ZXN0ZWVJZH0uanNvbicsDQoJCQkJZGF0YTogZGF0YSwNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCQl7DQoJCQkJCV9yZWxvYWRQYWdlKCk7DQoJCQkJfQ0KCQkJfSk7DQoJfSwNCglfcmVsb2FkUGFnZSA9IGZ1bmN0aW9uKCkNCgl7DQoJCXRyeQ0KCQl7DQoJCQl2YXIgdyA9IHdpbmRvdzsNCgkJCWlmICh3aW5kb3cucGFyZW50KQ0KCQkJew0KCQkJCXdpbmRvdy5wYXJlbnQubG9jYXRpb24gPSB3aW5kb3cucGFyZW50LmxvY2F0aW9uOw0KCQkJfQ0KCQkJdy5sb2NhdGlvbiA9IHcubG9jYXRpb247DQoJCX0gY2F0Y2ggKGUpIHsgfTsNCgl9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXNlckJhbm5lciA9DQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJaWYgKGNvbnRleHQuaW5FZGl0TW9kZSkNCgkJCXsNCgkJCQkkKCcjJyArIGNvbnRleHQuZWRpdEF2YXRhcikuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQkJCSQuZ2xvd01vZGFsKGNvbnRleHQuZWRpdEF2YXRhclVybCwgew0KCQkJCQkJd2lkdGg6NTYwLA0KCQkJCQkJaGVpZ2h0OjMwMCwNCgkJCQkJCW9uQ2xvc2U6IGZ1bmN0aW9uKCkgeyANCgkJCQkJCQkvLyBsb2FkIHRoZSB1cGRhdGVkIGF2YXRhcg0KCQkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQkJCQl1cmw6IGNvbnRleHQuYXZhdGFyVXJsLA0KCQkJCQkJCQlkYXRhOiB7IHdfdXNlcklkOiBjb250ZXh0LnVzZXJJZCB9LA0KCQkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KCQkJCQkJCQkJdmFyIGF2YXRhciA9ICQoY29udGV4dC53cmFwcGVySWQgKyAnIC51c2VyLWF2YXRhciBpbWcnKTsNCgkJCQkJCQkJCXZhciBuZXdBdmF0YXIgPSAkKHJlc3BvbnNlLmF2YXRhcik7DQoJCQkJCQkJCQlhdmF0YXIuYWZ0ZXIobmV3QXZhdGFyKS5yZW1vdmUoKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0pOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCg0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoNCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubmF2aWdhdGlvbkNvbmZpcm1hdGlvbi5lbmFibGUoKTsNCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubmF2aWdhdGlvbkNvbmZpcm1hdGlvbi5yZWdpc3RlcigkKCcjJyArIGNvbnRleHQuY2FuY2VsICsgJywgIycgKyBjb250ZXh0LnNhdmUpKTsNCg0KCQkJCSQoJyMnICsgY29udGV4dC5zYXZlKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5lZGl0YWJsZUdyb3VwLnNhdmUoJ1VzZXInLCB7DQoJCQkJCQkJc3VjY2VzczogZnVuY3Rpb24oKSB7DQoJCQkJCQkJCXdpbmRvdy5sb2NhdGlvbiA9IGNvbnRleHQudmlld1VybDsNCgkJCQkJCQl9DQoJCQkJCQl9KTsNCg0KCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0pOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCSQoJyMnICsgY29udGV4dC5mcmllbmRSZXF1ZXN0KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJaWYgKGNvbnRleHQuZnJpZW5kUmVxdWVzdFVybCkNCgkJCQkJew0KCQkJCQkJJC5nbG93TW9kYWwoY29udGV4dC5mcmllbmRSZXF1ZXN0VXJsLCB7DQoJCQkJCQkJd2lkdGg6IDY3MCwNCgkJCQkJCQloZWlnaHQ6IDM5MA0KCQkJCQkJfSk7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQlfcmVxdWVzdEZyaWVuZHNoaXAoY29udGV4dC5hY2Nlc3NpbmdVc2VySWQsIGNvbnRleHQudXNlcklkLCBjb250ZXh0LmZyaWVuZFJlcXVlc3RNZXNzYWdlKTsNCgkJCQkJfQ0KDQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9KTsNCg0KCQkJCSQoJyMnICsgY29udGV4dC5mcmllbmREZWxldGUpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoIWNvbnRleHQuZnJpZW5kRGVsZXRlQ29uZmlybWF0aW9uIHx8IHdpbmRvdy5jb25maXJtKGNvbnRleHQuZnJpZW5kRGVsZXRlQ29uZmlybWF0aW9uKSkNCgkJCQkJew0KCQkJCQkJX2RlbGV0ZUZyaWVuZHNoaXAoY29udGV4dC5hY2Nlc3NpbmdVc2VySWQsIGNvbnRleHQudXNlcklkKTsNCgkJCQkJfQ0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoNCgkJCQkkKCcjJyArIGNvbnRleHQuZnJpZW5kQ2FuY2VsKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCFjb250ZXh0LmZyaWVuZENhbmNlbENvbmZpcm1hdGlvbiB8fCB3aW5kb3cuY29uZmlybShjb250ZXh0LmZyaWVuZENhbmNlbENvbmZpcm1hdGlvbikpDQoJCQkJCXsNCgkJCQkJCV9kZWxldGVGcmllbmRzaGlwKGNvbnRleHQuYWNjZXNzaW5nVXNlcklkLCBjb250ZXh0LnVzZXJJZCk7DQoJCQkJCX0NCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0pOw0KCQkJfQ0KCQl9DQoJfTsNCg0KCXZhciBfYWRkUmVxdWVzdEZyaWVuZHNoaXBWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KDQoJCWNvbnRleHQuc2VuZEJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCXZhbGlkYXRlT25Mb2FkOiBmYWxzZSwNCgkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQoJCQkJaXNWYWxpZCA/IGNvbnRleHQuc2VuZEJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKSA6IGNvbnRleHQuc2VuZEJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCX0sDQoJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zZW5kQnV0dG9uLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOyANCgkJCQljb250ZXh0LnNlbmRCdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJX3JlcXVlc3RGcmllbmRzaGlwKGNvbnRleHQuYWNjZXNzaW5nVXNlcklkLCBjb250ZXh0LnVzZXJJZCwgY29udGV4dC5tZXNzYWdlSW5wdXQudmFsKCkpOw0KCQkJfQ0KCQl9KTsNCg0KCQlpZiAoY29udGV4dC5yZXF1aXJlRnJpZW5kUmVxdWVzdE1lc3NhZ2UgPT0gJ1llcycpIHsNCgkJCWNvbnRleHQuc2VuZEJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsIGNvbnRleHQubWVzc2FnZUlucHV0LnNlbGVjdG9yLA0KCQkJCXsNCgkJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJCW1lc3NhZ2VzOiB7IHJlcXVpcmVkOiBjb250ZXh0LmJsYW5rTWVzc2FnZUVycm9yTWVzc2FnZSB9DQoJCQkJfSwNCgkJCQknLmZpZWxkLWl0ZW0uZnJpZW5kLW1lc3NhZ2UgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicNCgkJCSk7DQoJCX0NCg0KCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5yZXF1ZXN0RnJpZW5kc2hpcCA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCg0KCQkJX2FkZFJlcXVlc3RGcmllbmRzaGlwVmFsaWRhdGlvbihjb250ZXh0KTsNCgkJfQ0KCX07DQoNCgl2YXIgX2FkZEVkaXRBdmF0YXJWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KDQoNCgkJaWYgKGNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uLmxlbmd0aCA+IDApIHsNCgkJCWNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oew0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQoJCQkJCWlzVmFsaWQgPyBjb250ZXh0LnN1Ym1pdEF2YXRhckJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKSA6IGNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCX0sDQoJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsNCgkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnN1Ym1pdEF2YXRhckJ1dHRvbi5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsgDQoJCQkJCWNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQlfdXBkYXRlQXZhdGFyKGNvbnRleHQudXNlcklkLCBudWxsLCBjb250ZXh0LmZpbGVOYW1lLCBjb250ZXh0LmZpbGVVcGxvYWRDb250ZXh0SWQsIGNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJY29udGV4dC5zdWJtaXRBdmF0YXJCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdhdmF0YXJVcGxvYWQnLCBmdW5jdGlvbigpIHsNCgkJCQkJcmV0dXJuICFjb250ZXh0LmZpbGVVcGxvYWRpbmcgJiYgY29udGV4dC5maWxlVXBsb2FkZWQ7DQoJCQkJfSwNCgkJCQljb250ZXh0Lm1pc3NpbmdBdmF0YXJFcnJvck1lc3NhZ2UsDQoJCQkJJy5maWVsZC1pdGVtLmF2YXRhci11cGxvYWQgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQoJCQkJbnVsbCk7DQoNCgkJfQ0KDQoJCWlmIChjb250ZXh0LnVwZGF0ZVNlbGVjdGVkQXZhdGFyQnV0dG9uLmxlbmd0aCA+IDApIHsNCgkJCWNvbnRleHQudXBkYXRlU2VsZWN0ZWRBdmF0YXJCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbih7DQoJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsNCgkJCQkJaXNWYWxpZCA/IGNvbnRleHQudXBkYXRlU2VsZWN0ZWRBdmF0YXJCdXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJykgOiBjb250ZXh0LnVwZGF0ZVNlbGVjdGVkQXZhdGFyQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCX0sDQoJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsNCgkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnVwZGF0ZVNlbGVjdGVkQXZhdGFyQnV0dG9uLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOyANCgkJCQkJY29udGV4dC51cGRhdGVTZWxlY3RlZEF2YXRhckJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJX3VwZGF0ZUF2YXRhcihjb250ZXh0LnVzZXJJZCwgJChjb250ZXh0LnNlbGVjdGFibGVBdmF0YXJzU2VsZWN0b3IgKyAnOmNoZWNrZWQnKS52YWwoKSwgbnVsbCwgbnVsbCwgY29udGV4dC51cGRhdGVTZWxlY3RlZEF2YXRhckJ1dHRvbik7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWNvbnRleHQudXBkYXRlU2VsZWN0ZWRBdmF0YXJCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdyZXF1aXJlZHNlbGVjdGVkYXZhdGFyJywgZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiAkKGNvbnRleHQuc2VsZWN0YWJsZUF2YXRhcnNTZWxlY3RvciArICc6Y2hlY2tlZCcpLmxlbmd0aCA+IDANCgkJCQl9LA0KCQkJCWNvbnRleHQucmVxdWlyZWRBdmF0YXJFcnJvck1lc3NhZ2UsDQoJCQkJJy5maWVsZC1pdGVtLmF2YXRhci1zZWxlY3QgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQoJCQkJbnVsbCk7DQoNCgkJfQ0KDQoJCWlmIChjb250ZXh0LnVwZGF0ZUxpbmtlZEF2YXRhckJ1dHRvbi5sZW5ndGggPiAwKSB7DQoJCQljb250ZXh0LnVwZGF0ZUxpbmtlZEF2YXRhckJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCQlvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgew0KCQkJCQlpc1ZhbGlkID8gY29udGV4dC51cGRhdGVMaW5rZWRBdmF0YXJCdXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJykgOiBjb250ZXh0LnVwZGF0ZUxpbmtlZEF2YXRhckJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQl9LA0KCQkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKSB7DQoJCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC51cGRhdGVMaW5rZWRBdmF0YXJCdXR0b24ucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7IA0KCQkJCQljb250ZXh0LnVwZGF0ZUxpbmtlZEF2YXRhckJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJX3VwZGF0ZUF2YXRhcihjb250ZXh0LnVzZXJJZCwgY29udGV4dC5hdmF0YXJVcmwudmFsKCksIG51bGwsIG51bGwsIGNvbnRleHQudXBkYXRlTGlua2VkQXZhdGFyQnV0dG9uKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJY29udGV4dC51cGRhdGVMaW5rZWRBdmF0YXJCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LmF2YXRhclVybC5zZWxlY3RvciwNCgkJCQl7DQoJCQkJCXJlcXVpcmVkOiB0cnVlLA0KCQkJCQltZXNzYWdlczogeyByZXF1aXJlZDogY29udGV4dC5ibGFua01lc3NhZ2VFcnJvck1lc3NhZ2UgfQ0KCQkJCX0sDQoJCQkJJy5maWVsZC1pdGVtLmF2YXRhci1saW5rIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nDQoJCQkpOw0KDQoJCX0NCg0KCX07DQoNCgl2YXIgX3VwZGF0ZUF2YXRhciA9IGZ1bmN0aW9uKHVzZXJJZCwgYXZhdGFyVXJsLCBmaWxlTmFtZSwgZmlsZUNvbnRleHQsIGJ1dHRvbikNCgl7DQoJCXZhciBkYXRhID0gew0KCQkJVXNlcklkOiB1c2VySWQNCgkJfTsNCg0KCQlpZiAoYXZhdGFyVXJsKSB7DQoJCQlkYXRhLkF2YXRhclVybCA9IGF2YXRhclVybDsNCgkJfQ0KCQllbHNlIHsNCgkJCWRhdGEuRmlsZU5hbWUgPSBmaWxlTmFtZTsNCgkJCWRhdGEuRmlsZVVwbG9hZENvbnRleHQgPSBmaWxlQ29udGV4dDsNCgkJfQ0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoew0KCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tVc2VySWR9L2F2YXRhci5qc29uJywNCgkJCQlkYXRhOiBkYXRhLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJd2luZG93LnBhcmVudC5qUXVlcnkuZ2xvd01vZGFsLmNsb3NlKCk7DQoJCQkJfSwNCgkJCQllcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlpZiAoYnV0dG9uKQ0KCQkJCQl7DQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGJ1dHRvbi5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KCQkJCQkJYnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQl9DQogICAgICAgICAgICAgICAgICAgIA0KICAgIAkJCQl3aW5kb3cucGFyZW50LmpRdWVyeS5nbG93TW9kYWwuY2xvc2UoKTsNCgkJCQl9CQkJDQoJCX0pOw0KCX07DQoNCgl2YXIgX2RlbGV0ZUF2YXRhciA9IGZ1bmN0aW9uKHVzZXJJZCwgYnV0dG9uKQ0KCXsNCgkJdmFyIGRhdGEgPSB7DQoJCQlVc2VySWQ6IHVzZXJJZA0KCQl9Ow0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoew0KCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tVc2VySWR9L2F2YXRhci5qc29uJywNCgkJCQlkYXRhOiBkYXRhLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJd2luZG93LnBhcmVudC5qUXVlcnkuZ2xvd01vZGFsLmNsb3NlKCk7DQoJCQkJfSwNCgkJCQllcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlpZiAoYnV0dG9uKQ0KCQkJCQl7DQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGJ1dHRvbi5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KCQkJCQkJYnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQl9DQoJCQkJfQkJCQ0KCQkJfSk7DQoJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVkaXRBdmF0YXIgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoNCgkJCWNvbnRleHQuZmlsZVVwbG9hZGVkID0gZmFsc2U7DQoJCQljb250ZXh0LmZpbGVVcGxvYWRpbmcgPSBmYWxzZTsNCg0KCQkJdmFyIHRhYnMgPSBbXTsNCgkJCXRhYnNbdGFicy5sZW5ndGhdID0gW2NvbnRleHQuYXZhdGFyVXBsb2FkVGFiSWQsIGNvbnRleHQuYXZhdGFyVXBsb2FkVGFiVGV4dCwgbnVsbF07DQoJCQl0YWJzW3RhYnMubGVuZ3RoXSA9IFtjb250ZXh0LmF2YXRhclNlbGVjdGlvblRhYklkLCBjb250ZXh0LmF2YXRhclNlbGVjdGlvblRhYlRleHQsIG51bGxdOw0KCQkJdGFic1t0YWJzLmxlbmd0aF0gPSBbY29udGV4dC5hdmF0YXJMaW5rVGFiSWQsIGNvbnRleHQuYXZhdGFyTGlua1RhYlRleHQsIG51bGxdOw0KCQkJDQoJCQljb250ZXh0LnRhYnMuZ2xvd1RhYmJlZFBhbmVzKHsNCgkJCQljc3NDbGFzczondGFiLXBhbmUnLA0KCQkJCXRhYlNldENzc0NsYXNzOid0YWItc2V0JywNCgkJCQl0YWJDc3NDbGFzc2VzOlsndGFiJ10sDQoJCQkJdGFiU2VsZWN0ZWRDc3NDbGFzc2VzOlsndGFiIHNlbGVjdGVkJ10sDQoJCQkJdGFiSG92ZXJDc3NDbGFzc2VzOlsndGFiIGhvdmVyJ10sDQoJCQkJZW5hYmxlUmVzaXppbmc6ZmFsc2UsDQoJCQkJdGFiczogdGFicw0KCQkJfSk7DQoNCgkJCWNvbnRleHQudXBsb2FkQXZhdGFyQ29udGFpbmVyLmdsb3dVcGxvYWQoew0KCQkJCWhpZGRlbklucHV0OiBjb250ZXh0LnVwbG9hZEF2YXRhclN0YXRlSWQsDQoJCQkJZmlsZUZpbHRlcjogW3tleHRlbnNpb25zOidibXAsZ2lmLGV4aWYsanBnLGpwZWcscG5nLHRpZmYnLHRpdGxlOidBbGwgRmlsZXMnfV0sDQoJCQkJdXBsb2FkVXJsOiBjb250ZXh0LnVwbG9hZEF2YXRhclVybA0KCQkJfSkNCgkJCS5iaW5kKCdnbG93VXBsb2FkQmVndW4nLCBmdW5jdGlvbihlLCBmaWxlKSB7DQoJCQkJY29udGV4dC5maWxlVXBsb2FkZWQgPSBmYWxzZTsNCgkJCQljb250ZXh0LmZpbGVVcGxvYWRpbmcgPSB0cnVlOw0KCQkJCWNvbnRleHQuc3VibWl0QXZhdGFyQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ3ZhbGlkYXRlJyk7DQoJCQl9KQ0KCQkJLmJpbmQoJ2dsb3dVcGxvYWRDb21wbGV0ZScsIGZ1bmN0aW9uKGUsIGZpbGUpIHsNCgkJCQlpZiAoZmlsZSAmJiBmaWxlLm5hbWUubGVuZ3RoID4gMCkgew0KCQkJCQljb250ZXh0LmZpbGVVcGxvYWRlZCA9IHRydWU7DQoJCQkJCWNvbnRleHQuZmlsZVVwbG9hZGluZyA9IGZhbHNlOw0KCQkJCQljb250ZXh0LmZpbGVOYW1lID0gZmlsZS5uYW1lOw0KCQkJCX0NCgkJCQljb250ZXh0LnN1Ym1pdEF2YXRhckJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZScpOw0KCQkJfSkNCgkJCS5iaW5kKCdnbG93VXBsb2FkRXJyb3InLCBmdW5jdGlvbihlLCBmaWxlKSB7DQoJCQkJY29udGV4dC5maWxlVXBsb2FkZWQgPSBmYWxzZTsNCgkJCQljb250ZXh0LmZpbGVVcGxvYWRpbmcgPSBmYWxzZTsNCgkJCQljb250ZXh0LnN1Ym1pdEF2YXRhckJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZScpOw0KCQkJCSQoJy5maWVsZC1pdGVtLmF2YXRhci11cGxvYWQgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLmh0bWwoY29udGV4dC51cGxvYWRpbmdBdmF0YXJFcnJvck1lc3NhZ2UpOw0KDQoJCQl9KTsNCg0KCQkJJChjb250ZXh0LnNlbGVjdGFibGVBdmF0YXJzU2VsZWN0b3IpLmNsaWNrKGZ1bmN0aW9uKCl7IGNvbnRleHQudXBkYXRlU2VsZWN0ZWRBdmF0YXJCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKTsgfSk7DQoJCQkNCgkJCWNvbnRleHQucmVtb3ZlVXBsb2FkQXZhdGFyQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7IA0KCQkJCWlmICghY29udGV4dC5yZW1vdmVVcGxvYWRBdmF0YXJCdXR0b24uaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHsgDQoJCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5yZW1vdmVVcGxvYWRBdmF0YXJCdXR0b24ucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7IA0KCQkJCQljb250ZXh0LnJlbW92ZVVwbG9hZEF2YXRhckJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJX2RlbGV0ZUF2YXRhcihjb250ZXh0LnVzZXJJZCwgY29udGV4dC5yZW1vdmVVcGxvYWRBdmF0YXJCdXR0b24pOw0KCQkJCX0NCgkJCX0pOwkJCQ0KDQoJCQlfYWRkRWRpdEF2YXRhclZhbGlkYXRpb24oY29udGV4dCk7DQoJCX0NCgl9Ow0KDQoNCn0pKGpRdWVyeSk7DQo=</file></files></scriptedContentFragment></scriptedContentFragments>