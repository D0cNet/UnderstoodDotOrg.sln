<scriptedContentFragments><scriptedContentFragment name="${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}" version="7.0.0.1" description="${resource:MediaGalleries_UploadEditMediaGalleryPost_Description}" instanceIdentifier="f056d2648c8a4994a3079d09c3d4328a" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="upload-edit-media-gallery-post"><contentScript>#set($media = false)
#set($media = $core_v2_media.Current)
#set($gallery = false)
#set($gallery = $core_v2_gallery.Current)
#if($media)
	#if (!$core_v2_nodePermission.Get('mediagalleries',$gallery.Id,'MediaGallery_ModifyPost',"%{PostType='posts',PostId=$media.Id}").IsAllowed)
		$core_v2_widget.Hide()
	#end
#elseif(!$core_v2_nodePermission.Get('mediagalleries',$gallery.Id,'MediaGallery_CreatePost').IsAllowed)
	$core_v2_widget.Hide()
#end

#set($contextId = $core_v2_uploadedFile.CreateContextId())
#set($uploadUrl = $core_v2_page.AdjustQueryString($core_v2_widget.GetExecutedFileUrl('uploadfile.vm'), "uploadFileUrl=$core_v2_encoding.UrlEncode($core_v2_uploadedFile.GetUploadUrl($contextId))"))

#set($tags = '')
#if($gallery)
	#set ($allTags = $core_v2_utility.Slice($core_v2_tags.ToStrings($core_v2_gallery.ListTags("%{ GalleryId = $gallery.Id }")), 0, 100))
	#foreach($tag in $allTags)
	#each
		#set($tags = "$tags'$core_v2_encoding.JavascriptEncode($core_v2_encoding.HtmlDecode($tag))'")
	#between
		#set($tags = "$tags,")
	#end
#end

#set($tempData = false)
#if ($core_v2_page.GetQueryStringValue('tsid'))
	#set($tempDataString = false)
	#set($tempDataString = $core_v2_utility.GetTemporaryData($core_v2_page.GetQueryStringValue('tsid')))
	#if($tempDataString)
		#set($tempData = $core_v2_page.ParseQueryString($tempDataString))
	#end
#end

&lt;div class="message error" id="$core_v2_widget.GetUniqueId('ErrorMessageId')" style="display:none;"&gt;&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('EditorTabs')"&gt;
	&lt;div id="$core_v2_widget.UniqueId('ComposePane')"&gt;
		&lt;div class="field-list-header"&gt;&lt;/div&gt;
		&lt;fieldset class="field-list"&gt;
			&lt;ul class="field-list"&gt;
				&lt;li class="field-item post-attachment"&gt;
					&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_FileOrUrl')&lt;/label&gt;
					&lt;span class="field-item-input"&gt;
						&lt;label id='$core_v2_widget.UniqueId('FileNameLabel')'&gt;#if ($media)$!media.File.FileName#elseif($tempData)$!tempData.Value('filename')#end&lt;/label&gt;
						&lt;button id="$core_v2_widget.UniqueId('FileUploadButton')"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_FileOrUrl_Upload')&lt;/button&gt;
					&lt;/span&gt;
					&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
				&lt;/li&gt;

				&lt;li class="field-item post-name"&gt;
					&lt;label for="$core_v2_widget.UniqueId('MediaPostName')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Name')&lt;/label&gt;
					&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Name_Detail')&lt;/span&gt;
					&lt;span class="field-item-input"&gt;
						&lt;input type="text" maxlength="256" size="70" id="$core_v2_widget.UniqueId('MediaPostName')" value="#if($media)$!media.Title#elseif($tempData)$!tempData.Value('subject')#end" /&gt;
					&lt;/span&gt;
					&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
				&lt;/li&gt;

				&lt;li class="field-item post-body"&gt;
					&lt;label for="$core_v2_widget.UniqueId('MediaGalleryPostDescription')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Desc')&lt;/label&gt;
					&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Desc_Detail')&lt;/span&gt;
					&lt;span class="field-item-input"&gt;
						#set($body = '')
						#if($media)
							#set($body = $media.Body('raw'))
						#elseif ($tempData)
							#set($body = $tempData.Value('body'))
						#end
						$core_v2_editor.Render("body", "%{Width='100%', Height='250px', Value=$!body}")
					&lt;/span&gt;
				&lt;/li&gt;
				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
					&lt;li class="field-item post-feature"&gt;
						&lt;label for="$core_v2_widget.UniqueId('SubscribeToPost')" class="field-item-header"&gt;$core_v2_language.GetResource('Post_SubscribeComments')&lt;/label&gt;
						&lt;span class="field-item-input"&gt;
							&lt;input type="checkbox" id="$core_v2_widget.UniqueId('SubscribeToPost')"#if(!$media || $core_v2_media.IsSubscribed($media.Id)) checked="checked"#end /&gt;
						&lt;/span&gt;
				  &lt;/li&gt;
				#end
				#if($core_v2_nodePermission.Get('Site_FeatureContent').IsAllowed)
					&lt;li class="field-item post-feature"&gt;
						&lt;label for="$core_v2_widget.UniqueId('FeaturedPost')" class="field-item-header"&gt;$core_v2_language.GetResource('Post_MakeFeatured')&lt;/label&gt;
						&lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('FeaturedPost')"#if($media.IsFeatured) checked="checked"#end /&gt;&lt;/span&gt;
						&lt;span class="field-item-input featured-post-url" id="$core_v2_widget.UniqueId('FeaturedImage')"#if(!$media || !$media.IsFeatured) style="display:none;"#end&gt;
							&lt;input type="text" id="$core_v2_widget.UniqueId('FeaturedImageUrl')" value="#if($media)$!core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($media.FeaturedImage))#end" /&gt;
						&lt;/span&gt;
					&lt;/li&gt;
				#end
                #if(!$sitecore_v2_configuration.AutoRedirectUsers)
				&lt;li class="field-item post-tags"&gt;
					&lt;label for="$core_v2_widget.UniqueId('TagBox')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Categories')&lt;/label&gt;
					&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Categories_Detail')&lt;/span&gt;
					&lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('TagBox')" type="text" value="$core_v2_utility.Join(', ', $media.Tags)" size="70" /&gt;&lt;/span&gt;
					&lt;span class="field-item-input"&gt;&lt;input type="button" id="$core_v2_widget.UniqueId('SelectTagsId')" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('TagEditor_SelectTags'))" /&gt;&lt;/span&gt;
				&lt;/li&gt;
                #end
			&lt;/ul&gt;
		&lt;/fieldset&gt;
		&lt;div class="field-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
	&lt;div id="$core_v2_widget.UniqueId('PreviewPane')"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list save-post-form"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;
				&lt;a href="#" class="internal-link save-post"&gt;
					&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Post')
				&lt;/a&gt;
				&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
			&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.UploadEditMediaGalleryPost')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(j){
			j.telligent.evolution.widgets.uploadEditMediaGalleryPost.register({
				wrapperId: '$core_v2_widget.WrapperElementId',
				mediaId: #if($media) $media.Id#else -1#end,
				galleryId: $gallery.Id,
				#if ($tempData &amp;&amp; $tempData.Value('filename'))
					file: {
						fileName: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('filename'))',
						url: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('fileurl'))',
						isRemote:#if($tempData.Value('fileurl')) true#else false#end,
						contextId: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('filecontextid'))'
						},
				#end
				contextId: '$core_v2_encoding.JavascriptEncode($contextId)',
				fileUploadId: '$core_v2_widget.UniqueId('FileUploadButton')',
				uploadFileUrl: '$core_v2_encoding.JavascriptEncode($uploadUrl)',
				fileNameId: '$core_v2_widget.UniqueId('FileNameLabel')',
				postNameId: '$core_v2_widget.UniqueId('MediaPostName')',
				featuredPostId: '$core_v2_widget.UniqueId('FeaturedPost')',
				featuredImageId: '$core_v2_widget.UniqueId('FeaturedImage')',
				featuredImageUrl: '$core_v2_widget.UniqueId('FeaturedImageUrl')',
				featuredImagePreview: '#if($media)$!core_v2_encoding.JavascriptEncode($core_v2_ui.GetViewHtml($core_v2_page.AbsoluteUrl($media.FeaturedImage)))#end',
				subscribeId: '$core_v2_widget.UniqueId('SubscribeToPost')',
				noFileSelectedResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_NoFileSelected'))',
				selectUploadResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_SelectUpload'))',
				removeResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Remove'))',
				tags: [#if($tags)$tags#end],
				tagBoxId: '$core_v2_widget.UniqueId('TagBox')',
				selectTagsId: '$core_v2_widget.UniqueId('SelectTagsId')',
				errorMessageId: '$core_v2_widget.UniqueId('ErrorMessageId')',
				noFileUploadedError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_NoFileUploaded'))',
				storageQuotaExceededError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_StorageQuotaExceeded'))',
				fileCountQuotaExceededError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_FileCountQuotaExceeded'))',
				restrictedFileTypeError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_RestrictedFileType'))',
				tabId: '$core_v2_widget.UniqueId('EditorTabs')',
				composeTabId: '$core_v2_widget.UniqueId('ComposePane')',
				composeTabText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Compose'))',
				previewTabId: '$core_v2_widget.UniqueId('PreviewPane')',
				previewTabText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Preview'))',
				postNameMissing: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_MissingName'))',
				getBody: function() { return $core_v2_editor.GetContentScript('body'); },
				fileUploaded : #if(($media &amp;&amp; $media.Id &gt; 0) || ($tempData &amp;&amp; $tempData.Value('filename')))true#else false#end,
				saveUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('uploadedit.vm'))',
				previewUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('preview.vm'))',
				previewLoadingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_PreviewLoading'))',
				previewErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_PreviewError'))',
				saveErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_SaveError'))',
                enableTags: #if($sitecore_v2_configuration.AutoRedirectUsers)false#else true#end
			});
		});
	&lt;/script&gt;
#end</contentScript><headerScript>$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}'))</headerScript><configuration>&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="attachmentExtensions" resourceName="UploadAttachment_Allowed_Extensions" dataType="string" defaultValue="${resource:UploadAttachment_Extensions}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;</configuration><languageResources><language key="en-us"><resource name="MediaGalleries_UploadEditMediaGalleryPost_Name">Media Gallery - Upload/Edit File Form</resource><resource name="MediaGalleries_UploadEditMediaGalleryPost_Description">Form for uploading or editing a media gallery file.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGalleryPostAdmin_FileOrUrl">File/URL</resource><resource name="MediaGalleryPostAdmin_FileOrUrl_Upload">Specify File/URL</resource><resource name="MediaGalleryPostAdmin_Name">Name</resource><resource name="MediaGalleryPostAdmin_Name_Detail">Choose a concise, but descriptive, name</resource><resource name="MediaGalleryPostAdmin_Desc">Description</resource><resource name="MediaGalleryPostAdmin_Desc_Detail">A full description of the file</resource><resource name="Post_SubscribeComments">Email me comments to this post</resource><resource name="Post_MakeFeatured">Make post a featured item</resource><resource name="MediaGalleryPostAdmin_Categories">Tags</resource><resource name="MediaGalleryPostAdmin_Categories_Detail">Tags help keep your files organized and allow your viewers to find files relevant to them. Select existing tags or enter comma-separated tags into the text box below.</resource><resource name="TagEditor_SelectTags">Select Tags...</resource><resource name="Post">Post</resource><resource name="FeaturedContent_NoFileSelected">No File Selected</resource><resource name="FeaturedContent_SelectUpload">Select/Upload...</resource><resource name="Remove">Remove</resource><resource name="MediaGalleryPostAdmin_NoFileUploaded">Please select the file or URL you want to upload.</resource><resource name="MediaGalleryPostAdmin_StorageQuotaExceeded">The total size of files in this media gallery has exceeded the gallery's quota. The file cannot be saved.</resource><resource name="MediaGalleryPostAdmin_FileCountQuotaExceeded">The total number of files in this media gallery has exceeded the gallery's quota. The file cannot be saved.</resource><resource name="MediaGalleryPostAdmin_RestrictedFileType">The media gallery does not allow that file type.</resource><resource name="CreateEditPost_Tab_Compose">Compose</resource><resource name="CreateEditPost_Tab_Preview">Preview</resource><resource name="MediaGalleryPostAdmin_MissingName">* Please enter a name for this file</resource><resource name="MediaGalleryPostAdmin_PreviewLoading">Loading...</resource><resource name="MediaGalleryPostAdmin_PreviewError">An error occurred while loading the preview of this file.</resource><resource name="MediaGalleryPostAdmin_SaveError">An error occurred while saving this file.</resource><resource name="MediaGalleries_UploadEditMediaGalleryPost_Title_UploadEditFile">Upload/Edit File</resource><resource name="UploadAttachment_Title">Upload File</resource><resource name="UploadAttachment_Description">Choose whether you want to upload a file from your computer or link to an existing file.</resource><resource name="UploadAttachment_Description_FileOnly">Select the file you want to upload using the form below.</resource><resource name="UploadAttachment_Description_UrlOnly">Enter the URL to an existing file using the form below.</resource><resource name="UploadAttachment_Description_NoAccess">You do not have permission to upload or link to files. Please contact your system administrator.</resource><resource name="UploadAttachment_File">Upload File</resource><resource name="UploadAttachment_File_Description">Select a file to upload.</resource><resource name="UploadAttachment_Url">Link to URL</resource><resource name="UploadAttachment_Url_Description">Enter the URL where an existing file resides.</resource><resource name="UploadAttachment_Save">Save</resource><resource name="UploadAttachment_MissingFile">* You must select a file to upload</resource><resource name="UploadAttachment_MissingURL">* A valid URL is required</resource><resource name="UploadAttachment_InvalidURL">* Only valid URLs are allowed.</resource><resource name="UploadAttachment_ErrorUploadingFile">There was an error uploading the file.</resource><resource name="UploadAttachment_Extensions">123,aac,ai,aiff,art,asf,asx,avi,bmp,csd,db,db,dmg,doc,docx,drw,eml,flac,flv,gif,gz,ics,jpeg,jpg,log,m4a,m4p,m4v,mdb,mdbx,mid,midi,mmv,mov,mp3,mp4,mpg,mpeg,mpp,msg,ogg,ogv,pdf,png,pps,ppt,pptx,ps,psd,qt,ram,rar,rm,rtf,sit,sitx,sql,swf,tif,tiff,txt,vcf,vcs,wav,webm,wma,wmv,wpd,wps,xls,xlsx,xml,zip</resource><resource name="UploadAttachment_Allowed_Extensions">Allowed File Extensions</resource><resource name="UploadAttachment_Extensions_Error">Only known URLs and the following file extensions are allowed:</resource></language></languageResources><requiredContext><context id="a51614fd19f7416ca89453788ac15794" /></requiredContext><files><file name="preview.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmaWxlTmFtZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVJc1JlbW90ZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSBmYWxzZSkNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gZmFsc2UpDQoJI3NldCgkbWVkaWFJZCA9IGZhbHNlKQ0KDQoJI3NldCgkdGl0bGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnVGl0bGUnKSkNCgkjc2V0KCRib2R5ID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0JvZHknKSkNCgkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdHYWxsZXJ5SWQnKSkpDQoJI3NldCgkdGFncyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdUYWdzJykpDQoJI3NldCgkZmlsZUNoYW5nZWQgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUNoYW5nZWQnKSkgIyMgMS8wDQoJI3NldCgkZmlsZU5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZU5hbWUnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZA0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZVVybCcpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkIGFuZCByZW1vdGUNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUlzUmVtb3RlJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0ZpbGVDb250ZXh0SWQnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZCBhbmQgbm90IHJlbW90ZQ0KCSNzZXQoJG1lZGlhSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdJZCcpKSkgIyMgc2V0IGlmIG1lZGlhIGlzIGJlaW5nIHVwZGF0ZWQNCg0KCSNzZXQoJG9wdGlvbnMgPSAiJXtOYW1lPSR0aXRsZSxEZXNjcmlwdGlvbj0kYm9keSxUYWdzPSR0YWdzfSIpDQoJI3NldCgkY29udGVudFR5cGUgPSBmYWxzZSkNCgkjaWYgKCRmaWxlQ2hhbmdlZCA9PSAnMScpDQoJCSNpZiAoJGZpbGVJc1JlbW90ZSA9PSAnMScpDQoJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlVXJsKSkNCgkJCSRvcHRpb25zLkFkZCgnRmlsZVVybCcsICRmaWxlVXJsKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2Vsc2UNCgkJCSNzZXQoJGZpbGUgPSBmYWxzZSkNCgkJCSNzZXQoJGZpbGUgPSAkY29yZV92Ml91cGxvYWRlZEZpbGUuR2V0KCRmaWxlQ29udGV4dElkLCAkZmlsZU5hbWUpKQ0KCQkJI2lmICgkZmlsZSkNCgkJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlTmFtZSkpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlRGF0YScsJGZpbGUuRmlsZURhdGEpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlTmFtZScsJGZpbGUuTmFtZSkNCgkJCQkkb3B0aW9ucy5BZGQoJ0NvbnRlbnRUeXBlJywgJGNvbnRlbnRUeXBlKQ0KCQkJI2VuZA0KCQkjZW5kDQoJI2VuZA0KDQoJI3NldCgkbWVkaWEgPSBmYWxzZSkNCgkjaWYgKCRtZWRpYUlkICYmICRtZWRpYUlkID4gMCkNCgkJI3NldCgkbWVkaWEgPSAkY29yZV92Ml9tZWRpYS5QcmV2aWV3KCRnYWxsZXJ5SWQsICRtZWRpYUlkLCAkb3B0aW9ucykpDQoJI2Vsc2UNCgkJI2lmICghJHRpdGxlKQ0KCQkJI3NldCAoJHRpdGxlID0gIiIpDQoJCSNlbmQNCgkJI2lmICghJGZpbGVOYW1lKQ0KCQkJI3NldCAoJGZpbGVOYW1lID0gIiIpDQoJCSNlbmQNCgkJI2lmICghJGNvbnRlbnRUeXBlKQ0KCQkJI3NldCAoJGNvbnRlbnRUeXBlID0gIiIpDQoJCSNlbmQNCgkJDQoJCSNzZXQoJG1lZGlhID0gJGNvcmVfdjJfbWVkaWEuUHJldmlldygkZ2FsbGVyeUlkLCAkdGl0bGUsICRjb250ZW50VHlwZSwgJGZpbGVOYW1lLCAkb3B0aW9ucykpDQoJI2VuZA0KDQoJI2lmICgkbWVkaWEpDQoJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPg0KCQkJPGgzIGNsYXNzPSJwb3N0LW5hbWUiPiQhbWVkaWEuVGl0bGU8L2gzPg0KCQkJI3NldCAoJG1lZGlhVHlwZSA9ICRjb3JlX3YyX3VpLkdldE1lZGlhVHlwZSgkZmlsZU5hbWUpKQ0KCQkJI2lmICgkbWVkaWFUeXBlID09ICJWaWRlbyIgfHwgJG1lZGlhVHlwZSA9PSAiSW1hZ2UiKQ0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudC12aWV3ZXIiPg0KCQkJCQkkIWNvcmVfdjJfdWkuR2V0Vmlld0h0bWwoJGZpbGVOYW1lLCAiJXtXaWR0aCA9IDUwMCwgSGVpZ2h0ID0gNDAwfSIpDQoJCQkJPC9kaXY+DQoJCQkjZWxzZQ0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudCI+DQoJCQkJCSQhY29yZV92Ml91aS5HZXRQcmV2aWV3SHRtbCgkZmlsZU5hbWUsICIle1dpZHRoID0gMTE0LCBIZWlnaHQgPSAxMTR9IikNCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4kZmlsZU5hbWUgJGJvZHk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2Pg0KCSNlbHNlDQoJCSRjb3JlX3YyX3BhZ2UuU2V0U3RhdHVzQ29kZSg1MDApDQoJI2VuZA0KI2VuZA==</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCgkNCgl2YXIgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KCQkkKCcjJyArIGNvbnRleHQuZmlsZVVwbG9hZElkKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCSQuZ2xvd01vZGFsKGNvbnRleHQudXBsb2FkRmlsZVVybCwgeyB3aWR0aDo1MDAsIGhlaWdodDozMDAsIG9uQ2xvc2U6ZnVuY3Rpb24ocmV0dXJuVmFsdWUpe19tb2RhbENsb3NlZChjb250ZXh0LCByZXR1cm5WYWx1ZSk7fX0pOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9KTsNCg0KICAgICAgICBpZihjb250ZXh0LmVuYWJsZVRhZ3Mpew0KICAgIAkJdmFyIHNlbGVjdFRhZ3NCb3ggPSAkKCcjJyArIGNvbnRleHQuc2VsZWN0VGFnc0lkKS5jbGljayhmdW5jdGlvbigpIHsNCiAgICAJCQkkKCcjJyArIGNvbnRleHQudGFnQm94SWQpLmV2b2x1dGlvblRhZ1RleHRCb3goJ29wZW5UYWdTZWxlY3RvcicpOyByZXR1cm4gZmFsc2U7DQogICAgCQl9KTsNCiAgICAJCWlmICghY29udGV4dC50YWdzIHx8IGNvbnRleHQudGFncy5sZW5ndGggPT09IDApIHsNCiAgICAJCQlzZWxlY3RUYWdzQm94LmhpZGUoKTsNCiAgICAJCX0NCiAgICAgICAgfQ0KDQoJCSQoJyMnKyBjb250ZXh0LmZlYXR1cmVkSW1hZ2VVcmwpLmV2b2x1dGlvblVzZXJGaWxlVGV4dEJveCh7DQoJCQlyZW1vdmVUZXh0OiBjb250ZXh0LnJlbW92ZVJlc291cmNlLA0KCQkJc2VsZWN0VGV4dDogY29udGV4dC5zZWxlY3RVcGxvYWRSZXNvdXJjZSwNCgkJCW5vRmlsZVRleHQ6IGNvbnRleHQubm9GaWxlU2VsZWN0ZWRSZXNvdXJjZSwNCgkJCWluaXRpYWxQcmV2aWV3SHRtbDogY29udGV4dC5mZWF0dXJlZEltYWdlUHJldmlldw0KCQl9KTsNCg0KCQkkKCcjJyArIGNvbnRleHQuZmVhdHVyZWRQb3N0SWQpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJaWYodGhpcy5jaGVja2VkKSB7DQoJCQkJJCgnIycgKyBjb250ZXh0LmZlYXR1cmVkSW1hZ2VJZCkuc2hvdygpOw0KCQkJfSBlbHNlIHsNCgkJCQkkKCcjJyArIGNvbnRleHQuZmVhdHVyZWRJbWFnZUlkKS5oaWRlKCk7DQoJCQl9DQoJCX0pOw0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLmVuYWJsZSgpOw0KCQl2YXIgc2F2ZUJ1dHRvbiA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0Jyk7DQoJCXNhdmVCdXR0b24uY2xpY2soZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZiAoISQodGhpcykuZXZvbHV0aW9uVmFsaWRhdGlvbignaXNWYWxpZCcpKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQlfc2F2ZShjb250ZXh0KTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfSk7DQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLmVuYWJsZSgpOw0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubmF2aWdhdGlvbkNvbmZpcm1hdGlvbi5yZWdpc3RlcihzYXZlQnV0dG9uKTsNCgl9LA0KCV9hZGRWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KCQl2YXIgc2F2ZUJ1dHRvbiA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0Jyk7DQoNCgkJc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCXZhbGlkYXRlT25Mb2FkOiBjb250ZXh0Lm1lZGlhSWQgPD0gMCA/IGZhbHNlIDogbnVsbCwNCgkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQoJCQkJaWYgKGlzVmFsaWQpIHsNCgkJCQkJc2F2ZUJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQl2YXIgdGFiYmVkUGFuZSA9ICQoJyMnICsgY29udGV4dC50YWJJZCkuZ2xvd1RhYmJlZFBhbmVzKCdnZXRCeUluZGV4JywgMCk7DQoJCQkJCWlmICh0YWJiZWRQYW5lKSB7DQoJCQkJCQkkKCcjJyArIGNvbnRleHQudGFiSWQpLmdsb3dUYWJiZWRQYW5lcygnc2VsZWN0ZWQnLCB0YWJiZWRQYW5lKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KCQkJCXNhdmVCdXR0b24ucGFyZW50KCkuYWRkQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCgkJCQlzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJfQ0KCQl9KTsNCg0KCQkvLyBGaWxlIHVwbG9hZGVkDQoJCXNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdtZWRpYWZpbGV1cGxvYWRlZCcsIGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlyZXR1cm4gY29udGV4dC5maWxlVXBsb2FkZWQ7DQoJCQl9LA0KCQkJY29udGV4dC5ub0ZpbGVVcGxvYWRlZEVycm9yLA0KCQkJJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvc3QtYXR0YWNobWVudCAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCgkJCW51bGwNCgkJKTsNCg0KCQkvLyBIYXMgbmFtZQ0KCQlzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgJyMnICsgY29udGV4dC5wb3N0TmFtZUlkLA0KCQkJew0KCQkJCXJlcXVpcmVkOiB0cnVlLA0KCQkJCW1lc3NhZ2VzOiB7IHJlcXVpcmVkOiBjb250ZXh0LnBvc3ROYW1lTWlzc2luZyB9DQoJCQl9LA0KCQkJJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvc3QtbmFtZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCgkJCW51bGwNCgkJKTsNCgl9LA0KCV9tb2RhbENsb3NlZCA9IGZ1bmN0aW9uKGNvbnRleHQsIGZpbGUpIHsNCgkJaWYoZmlsZSkgew0KCQkJJCgnIycgKyBjb250ZXh0LmZpbGVOYW1lSWQpLnRleHQoZmlsZS5maWxlTmFtZSk7DQoJCQljb250ZXh0LmZpbGVVcGxvYWRlZCA9IHRydWU7DQoJCQljb250ZXh0LmZpbGUgPSBmaWxlOw0KCQkJY29udGV4dC5maWxlLmNvbnRleHRJZCA9IGNvbnRleHQuY29udGV4dElkOw0KCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZUN1c3RvbScsICdtZWRpYWZpbGV1cGxvYWRlZCcpOw0KCQl9DQoJfSwNCglfc2F2ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIGRhdGEgPSBfY3JlYXRlUG9zdFJlcXVlc3REYXRhKGNvbnRleHQpOw0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCXVybDogY29udGV4dC5zYXZlVXJsLA0KCQkJZGF0YTogZGF0YSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJew0KCQkJCWlmIChyZXNwb25zZS5yZWRpcmVjdFVybCkgew0KCQkJCQl3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5yZWRpcmVjdFVybDsNCgkJCQl9DQoJCQl9LA0KCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5zYXZlRXJyb3JUZXh0LA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQl7DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLnNhdmUtcG9zdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCX0NCgkJfSk7DQoJfSwNCglfY3JlYXRlUG9zdFJlcXVlc3REYXRhID0gZnVuY3Rpb24oY29udGV4dCkgew0KCQ0KCQl2YXIgdGFncyA9IFtdOw0KICAgICAgICBpZihjb250ZXh0LmVuYWJsZVRhZ3Mpew0KICAgICAgICAgICAgdmFyIGluVGFncyA9ICQoJyMnICsgY29udGV4dC50YWdCb3hJZCkudmFsKCkuc3BsaXQoL1ssO10vZyk7DQogICAgCQlmb3IgKHZhciBpID0gMDsgaSA8IGluVGFncy5sZW5ndGg7IGkrKykNCiAgICAJCXsNCiAgICAJCQl2YXIgdGFnID0gJC50cmltKGluVGFnc1tpXSk7DQogICAgCQkJaWYgKHRhZykgew0KICAgIAkJCQl0YWdzW3RhZ3MubGVuZ3RoXSA9IHRhZzsNCiAgICAJCQl9DQogICAgCQl9DQogICAgCQl0YWdzID0gdGFncy5qb2luKCcsJyk7DQogICAgICAgIH0NCg0KCQl2YXIgZGF0YSA9IHsNCgkJCVRpdGxlOiAkKCcjJyArIGNvbnRleHQucG9zdE5hbWVJZCkudmFsKCksDQoJCQlCb2R5OiBjb250ZXh0LmdldEJvZHkoKSwNCgkJCVRhZ3M6IHRhZ3MsDQoJCQlHYWxsZXJ5SWQ6IGNvbnRleHQuZ2FsbGVyeUlkLA0KCQkJRmlsZUNoYW5nZWQ6IGNvbnRleHQuZmlsZSA/ICcxJyA6ICcwJw0KCQl9Ow0KDQoJCXZhciBzdWJzY3JpYmUgPSAkKCcjJyArIGNvbnRleHQuc3Vic2NyaWJlSWQpOw0KCQlpZiAoc3Vic2NyaWJlLmxlbmd0aCA+IDApDQoJCQlkYXRhLlN1YnNjcmliZSA9IHN1YnNjcmliZS5pcygnOmNoZWNrZWQnKSA/IDEgOiAwOw0KCQllbHNlDQoJCQlkYXRhLlN1YnNjcmliZSA9IC0xOw0KDQoJCXZhciBmZWF0dXJlZCA9ICQoJyMnICsgY29udGV4dC5mZWF0dXJlZFBvc3RJZCk7DQoJCWlmIChmZWF0dXJlZC5sZW5ndGggPiAwKQ0KCQl7DQoJCQlkYXRhLkZlYXR1cmVkID0gZmVhdHVyZWQuaXMoJzpjaGVja2VkJykgPyAxIDogMDsNCgkJCXZhciBmZWF0dXJlZEltYWdlID0gJCgnIycrIGNvbnRleHQuZmVhdHVyZWRJbWFnZVVybCk7DQoJCQlpZiAoZmVhdHVyZWRJbWFnZS5sZW5ndGggPiAwKQ0KCQkJCWRhdGEuRmVhdHVyZWRJbWFnZVVybCA9IGZlYXR1cmVkSW1hZ2UudmFsKCk7DQoJCX0NCgkJZWxzZQ0KCQkJZGF0YS5GZWF0dXJlZCA9IC0xOw0KDQoJCWlmIChjb250ZXh0LmZpbGUpDQoJCXsNCgkJCWlmIChjb250ZXh0LmZpbGUuaXNSZW1vdGUpDQoJCQl7DQoJCQkJZGF0YS5GaWxlTmFtZSA9IGNvbnRleHQuZmlsZS5maWxlTmFtZTsNCgkJCQlkYXRhLkZpbGVVcmwgPSBjb250ZXh0LmZpbGUudXJsOw0KCQkJCWRhdGEuRmlsZUlzUmVtb3RlID0gJzEnOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWRhdGEuRmlsZU5hbWUgPSBjb250ZXh0LmZpbGUuZmlsZU5hbWU7DQoJCQkJZGF0YS5GaWxlQ29udGV4dElkID0gY29udGV4dC5maWxlLmNvbnRleHRJZDsNCgkJCQlkYXRhLkZpbGVJc1JlbW90ZSA9ICcwJzsNCgkJCX0NCgkJfQ0KDQoJCWlmIChjb250ZXh0Lm1lZGlhSWQgPiAwKQ0KCQl7DQoJCQlkYXRhLklkID0gY29udGV4dC5tZWRpYUlkOw0KCQl9DQoNCgkJcmV0dXJuIGRhdGE7DQoJfSwNCglfcHJldmlldyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIGRhdGEgPSBfY3JlYXRlUG9zdFJlcXVlc3REYXRhKGNvbnRleHQpOw0KDQoJCSQoJyMnICsgY29udGV4dC5wcmV2aWV3VGFiSWQpLmh0bWwoJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyBsb2FkaW5nX19tZXNzYWdlIj4nICsgY29udGV4dC5wcmV2aWV3TG9hZGluZ1RleHQgKyAnPC9kaXY+Jyk7DQoNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJdXJsOiBjb250ZXh0LnByZXZpZXdVcmwsDQoJCQlkYXRhOiBkYXRhLA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQl7DQoJCQkJJCgnIycgKyBjb250ZXh0LnByZXZpZXdUYWJJZCkuaGlkZSgpLmh0bWwocmVzcG9uc2UpLmZhZGVJbignZmFzdCcpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQucHJldmlld0Vycm9yVGV4dCwNCgkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KCQkJew0KCQkJCSQoJyMnICsgY29udGV4dC5wcmV2aWV3VGFiSWQpLmh0bWwoJzxkaXYgY2xhc3M9Im1lc3NhZ2UgZXJyb3IgZXJyb3JfX21lc3NhZ2UiPicgKyBkZXNjICsgJzwvZGl2PicpOw0KCQkJfQ0KCQl9KTsNCgl9Ow0KCQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnVwbG9hZEVkaXRNZWRpYUdhbGxlcnlQb3N0ID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJJCgnIycgKyBjb250ZXh0LnRhYklkKS5nbG93VGFiYmVkUGFuZXMoew0KCQkJCWNzc0NsYXNzOid0YWItcGFuZScsDQoJCQkJdGFiU2V0Q3NzQ2xhc3M6J3RhYi1zZXQgd2l0aC1wYW5lcycsDQoJCQkJdGFiQ3NzQ2xhc3NlczpbJ3RhYiddLA0KCQkJCXRhYlNlbGVjdGVkQ3NzQ2xhc3NlczpbJ3RhYiBzZWxlY3RlZCddLA0KCQkJCXRhYkhvdmVyQ3NzQ2xhc3NlczpbJ3RhYiBob3ZlciddLA0KCQkJCWVuYWJsZVJlc2l6aW5nOmZhbHNlLA0KCQkJCXRhYnM6DQoJCQkJWw0KCQkJCQlbY29udGV4dC5jb21wb3NlVGFiSWQsIGNvbnRleHQuY29tcG9zZVRhYlRleHQsIG51bGxdLA0KCQkJCQlbY29udGV4dC5wcmV2aWV3VGFiSWQsIGNvbnRleHQucHJldmlld1RhYlRleHQsIGZ1bmN0aW9uKCkgeyBfcHJldmlldyhjb250ZXh0KTsgfV0NCgkJCQldDQoJCQl9KTsNCg0KCQkJJCgnIycgKyBjb250ZXh0LnRhZ0JveElkKS5ldm9sdXRpb25UYWdUZXh0Qm94KHthbGxUYWdzOmNvbnRleHQudGFnc30pOw0KDQoJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoJCQlfYWRkVmFsaWRhdGlvbihjb250ZXh0KTsNCgkJfQ0KCX07DQoNCgl2YXIgX2FkZFVwbG9hZEZpbGVWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KDQoJCWNvbnRleHQuc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCXZhbGlkYXRlT25Mb2FkOiBjb250ZXh0LnZhbGlkYXRlT25Mb2FkLA0KCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsNCgkJCQlpc1ZhbGlkID8gY29udGV4dC5zYXZlQnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpIDogY29udGV4dC5zYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJfSwNCgkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKSB7DQoJCQkJdmFyIGlzUmVtb3RlID0gY29udGV4dC5saW5rVG9VcmwucHJvcCgiY2hlY2tlZCIpOw0KCQkJCXZhciByZXN1bHQgPSB7ICJmaWxlTmFtZSI6ICFpc1JlbW90ZSA/IGNvbnRleHQuZmlsZU5hbWUgOiBjb250ZXh0LnVybElucHV0LnZhbCgpLCAiaXNSZW1vdGUiOmlzUmVtb3RlLCAidXJsIjppc1JlbW90ZSA/IGNvbnRleHQudXJsSW5wdXQudmFsKCkgOiBudWxsIH0NCgkJCQl3aW5kb3cucGFyZW50LmpRdWVyeS5nbG93TW9kYWwuY2xvc2UocmVzdWx0LCB3aW5kb3cucGFyZW50KTsNCgkJCX0NCgkJfSk7DQoNCgkJaWYgKGNvbnRleHQudXBsb2FkRmlsZS5sZW5ndGgpIHsNCgkJCWNvbnRleHQuc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRDdXN0b21WYWxpZGF0aW9uJywgJ2ZpbGV1cGxvYWRlZCcsIGZ1bmN0aW9uKCkgew0KCQkJCQlyZXR1cm4gIWNvbnRleHQudXBsb2FkRmlsZS5wcm9wKCJjaGVja2VkIikgfHwgY29udGV4dC5maWxlVXBsb2FkZWQ7DQoJCQkJfSwNCgkJCQljb250ZXh0Lm1pc3NpbmdGaWxlRXJyb3JNZXNzYWdlLA0KCQkJCScuZmllbGQtaXRlbS5maWxlIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLA0KCQkJCW51bGwpOw0KCQl9DQoNCgkJaWYgKGNvbnRleHQubGlua1RvVXJsLmxlbmd0aCkgew0KCQkJY29udGV4dC5zYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAndXJsRW50ZXJlZCcsIGZ1bmN0aW9uKCkgew0KCQkJCQlyZXR1cm4gIWNvbnRleHQubGlua1RvVXJsLnByb3AoImNoZWNrZWQiKSB8fCAoY29udGV4dC51cmxJbnB1dC52YWwoKS5sZW5ndGggPiAwICk7DQoJCQkJfSwNCgkJCQljb250ZXh0Lm1pc3NpbmdVcmxFcnJvck1lc3NhZ2UsDQoJCQkJJy5maWVsZC1pdGVtLmxpbmsgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQoJCQkJbnVsbCk7DQoNCiAgICAJCWNvbnRleHQuc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsIGNvbnRleHQudXJsSW5wdXQuc2VsZWN0b3IsIA0KCQkJCXsNCgkJCQkJdXJsOnRydWUsCQkJCQ0KCQkJCQltZXNzYWdlczogeyB1cmw6IGNvbnRleHQubWlzc2luZ1VybEVycm9yTWVzc2FnZSB9DQoJCQkJfSwNCgkJCQknLmZpZWxkLWl0ZW0ubGluayAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCgkJCQludWxsKTsNCgkJfQ0KICAgICAgICANCiAgICAJY29udGV4dC5zYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAnYWxsb3dlZEV4dGVuc2lvbnMnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgCXJldHVybiAoIWNvbnRleHQubGlua1RvVXJsLnByb3AoImNoZWNrZWQiKSAgfHwgX2lzRXh0ZW5zaW9uQWxsb3dlZChjb250ZXh0LmFsbG93ZWRFeHRlbnNpb25zLCBjb250ZXh0LnVybElucHV0LnZhbCgpLnNwbGl0KCcuJykucG9wKCkpKSAmJg0KICAgICAgICAgICAgICAgICAgICghY29udGV4dC51cGxvYWRGaWxlLnByb3AoImNoZWNrZWQiKSB8fCBfaXNFeHRlbnNpb25BbGxvd2VkKGNvbnRleHQuYWxsb3dlZEV4dGVuc2lvbnMsIGNvbnRleHQuZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKSkpOw0KICAgICAgICB9LA0KICAgICAgICBbY29udGV4dC5hbGxvd2VkRXh0ZW5zaW9uc0Vycm9yTWVzc2FnZSwgJyAnLCBjb250ZXh0LmFsbG93ZWRFeHRlbnNpb25zLnJlcGxhY2UoLywvZywiLCAiKV0uam9pbignJyksDQogICAgICAgICcubWVzc2FnZS5lcnJvcicsDQogICAgICAgIG51bGwpOw0KCX0sDQogICAgX2lzRXh0ZW5zaW9uQWxsb3dlZCA9IGZ1bmN0aW9uKGFsbG93ZWRFeHRlbnNpb25zLCBleHQpew0KICAgICAgICB2YXIgYWxsb3dlZEV4dHMgPSBhbGxvd2VkRXh0ZW5zaW9ucy5zcGxpdCgnLCcpOyAgICAgICAgDQogICAgICAgIHJldHVybiBleHQubGVuZ3RoID4gMCAmJiAkLmluQXJyYXkoZXh0LCBhbGxvd2VkRXh0cykgPj0gMDsNCiAgICB9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXBsb2FkTWVkaWFHYWxsZXJ5RmlsZSA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCg0KCQkJY29udGV4dC5maWxlVXBsb2FkZWQgPSBmYWxzZTsNCg0KCQkJY29udGV4dC51cGxvYWRGaWxlQ29udGFpbmVyLmdsb3dVcGxvYWQoew0KCQkJCWhpZGRlbklucHV0OiBjb250ZXh0LnVwbG9hZEZpbGVTdGF0ZUlkLA0KCQkJCWZpbGVGaWx0ZXI6IG51bGwsDQoJCQkJdXBsb2FkVXJsOiBjb250ZXh0LnVwbG9hZEZpbGVVcmwNCgkJCX0pDQoJCQkuYmluZCgnZ2xvd1VwbG9hZEJlZ3VuJywgZnVuY3Rpb24oZSwgZmlsZSkgew0KCQkJCWlmIChjb250ZXh0LmxpbmtUb1VybCkgeyBjb250ZXh0LmxpbmtUb1VybC5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOyB9DQoJCQkJY29udGV4dC51cGxvYWRGaWxlLnByb3AoImNoZWNrZWQiLCB0cnVlKTsNCgkJCQljb250ZXh0LmZpbGVVcGxvYWRlZCA9IGZhbHNlOw0KCQkJfSkNCgkJCS5iaW5kKCdnbG93VXBsb2FkQ29tcGxldGUnLCBmdW5jdGlvbihlLCBmaWxlKSB7DQoJCQkJaWYgKGZpbGUgJiYgZmlsZS5uYW1lLmxlbmd0aCA+IDApIHsNCgkJCQkJY29udGV4dC5maWxlVXBsb2FkZWQgPSB0cnVlOw0KCQkJCQljb250ZXh0LmZpbGVOYW1lID0gZmlsZS5uYW1lOw0KCQkJCX0NCgkJCQljb250ZXh0LnNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKTsNCgkJCX0pDQoJCQkuYmluZCgnZ2xvd1VwbG9hZEVycm9yJywgZnVuY3Rpb24oZSwgZmlsZSkgew0KCQkJCWNvbnRleHQuZmlsZVVwbG9hZGVkID0gZmFsc2U7DQoJCQkJJCgnLmZpZWxkLWl0ZW0uZmlsZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJykuaHRtbChjb250ZXh0LnVwbG9hZGluZ0ZpbGVFcnJvck1lc3NhZ2UpOw0KCQkJfSk7DQoNCgkJCWlmIChjb250ZXh0LnVwbG9hZEZpbGUubGVuZ3RoKSB7DQoJCQkJY29udGV4dC51cGxvYWRGaWxlLmNsaWNrKGZ1bmN0aW9uKGUpIHsgDQoJCQkJCWNvbnRleHQudXJsSW5wdXQucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsNCgkJCQkJY29udGV4dC5zYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ3Jlc2V0Jyk7DQoJCQkJCSQoJy5maWVsZC1pdGVtIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nKS5odG1sKCcnKTsNCgkJCQl9KTsNCgkJCX0NCg0KCQkJaWYgKGNvbnRleHQubGlua1RvVXJsLmxlbmd0aCkgew0KCQkJCWNvbnRleHQubGlua1RvVXJsLmNsaWNrKGZ1bmN0aW9uKGUpIHsgDQoJCQkJCWNvbnRleHQudXJsSW5wdXQucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7DQoJCQkJCWNvbnRleHQuc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdyZXNldCcpOw0KCQkJCQkkKCcuZmllbGQtaXRlbSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJykuaHRtbCgnJyk7DQoJCQkJfSk7DQoJCQl9DQoNCgkJCQ0KCQkJX2FkZFVwbG9hZEZpbGVWYWxpZGF0aW9uKGNvbnRleHQpOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file><file name="uploadedit.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdCb2R5JykpDQoJI3NldCgkZ2FsbGVyeUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnR2FsbGVyeUlkJykpKQ0KCSNzZXQoJHRhZ3MgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnVGFncycpKQ0KCSNzZXQoJGZpbGVDaGFuZ2VkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0ZpbGVDaGFuZ2VkJykpICMjIDEvMA0KCSNzZXQoJHN1YnNjcmliZSA9IC0xKQ0KCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdTdWJzY3JpYmUnKSkgIyMgMS8wLy0xDQoJI3NldCgkZmVhdHVyZWQgPSAtMSkNCgkjc2V0KCRmZWF0dXJlZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGZWF0dXJlZCcpKSAjIyAxLzAvLTENCgkjc2V0KCRmZWF0dXJlZEltYWdlID0gZmFsc2UpDQoJI3NldCgkZmVhdHVyZWRJbWFnZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGZWF0dXJlZEltYWdlVXJsJykpICMjIHNldCBpZiBmZWF0dXJlZCBpcyBub3QgLTEgYW5kIGltYWdlIGlzIHNlbGVjdGVkDQoJI3NldCgkZmlsZU5hbWUgPSBmYWxzZSkNCgkjc2V0KCRmaWxlTmFtZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGaWxlTmFtZScpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkDQoJI3NldCgkZmlsZVVybCA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZVVybCcpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkIGFuZCByZW1vdGUNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSBmYWxzZSkNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUlzUmVtb3RlJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gZmFsc2UpDQoJI3NldCgkZmlsZUNvbnRleHRJZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGaWxlQ29udGV4dElkJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQgYW5kIG5vdCByZW1vdGUNCgkjc2V0KCRtZWRpYUlkID0gZmFsc2UpDQoJI3NldCgkbWVkaWFJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0lkJykpKSAjIyBzZXQgaWYgbWVkaWEgaXMgYmVpbmcgdXBkYXRlZA0KDQoJI3NldCgkb3B0aW9ucyA9ICIle05hbWU9JHRpdGxlLERlc2NyaXB0aW9uPSRib2R5LFRhZ3M9JHRhZ3N9IikNCgkjc2V0KCRjb250ZW50VHlwZSA9IGZhbHNlKQ0KCSNpZiAoJGZpbGVDaGFuZ2VkID09ICcxJykNCgkJI2lmICgkZmlsZUlzUmVtb3RlID09ICcxJykNCgkJCSNzZXQoJGNvbnRlbnRUeXBlID0gJGNvcmVfdjJfdWkuR2V0TWltZVR5cGUoJGZpbGVVcmwpKQ0KCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXJsJywgJGZpbGVVcmwpDQoJCQkkb3B0aW9ucy5BZGQoJ0ZpbGVOYW1lJywgJGZpbGVOYW1lKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2Vsc2UNCgkJCSNzZXQoJGZpbGUgPSBmYWxzZSkNCgkJCSNzZXQoJGZpbGUgPSAkY29yZV92Ml91cGxvYWRlZEZpbGUuR2V0KCRmaWxlQ29udGV4dElkLCAkZmlsZU5hbWUpKQ0KCQkJI2lmICgkZmlsZSkNCgkJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlTmFtZSkpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXBsb2FkQ29udGV4dCcsICRmaWxlQ29udGV4dElkKQ0KCQkJCSRvcHRpb25zLkFkZCgnRmlsZU5hbWUnLCAkZmlsZS5OYW1lKQ0KCQkJCSRvcHRpb25zLkFkZCgnQ29udGVudFR5cGUnLCAkY29udGVudFR5cGUpDQoJCQkjZW5kDQoJCSNlbmQNCgkjZW5kDQoNCgkjaWYgKCRmZWF0dXJlZCAhPSAnLTEnKQ0KCQkjaWYgKCRmZWF0dXJlZCA9PSAnMScpDQoJCQkkb3B0aW9ucy5BZGQoJ0lzRmVhdHVyZWQnLCdUcnVlJykNCgkJCSNpZiAoJGZlYXR1cmVkSW1hZ2UpDQoJCQkJJG9wdGlvbnMuQWRkKCdGZWF0dXJlZEltYWdlJywgJGZlYXR1cmVkSW1hZ2UpDQoJCQkjZWxzZQ0KCQkJCSRvcHRpb25zLkFkZCgnRmVhdHVyZWRJbWFnZScsICcnKQ0KCQkJI2VuZA0KCQkjZWxzZQ0KCQkJJG9wdGlvbnMuQWRkKCdJc0ZlYXR1cmVkJywnRmFsc2UnKQ0KCQkjZW5kDQoJI2VuZA0KDQoJI3NldCgkbWVkaWEgPSBmYWxzZSkNCgkjaWYgKCRtZWRpYUlkICYmICRtZWRpYUlkID4gMCkNCgkJI3NldCgkbWVkaWEgPSAkY29yZV92Ml9tZWRpYS5VcGRhdGUoJGdhbGxlcnlJZCwgJG1lZGlhSWQsICRvcHRpb25zKSkNCgkjZWxzZQ0KCQkjc2V0KCRtZWRpYSA9ICRjb3JlX3YyX21lZGlhLkNyZWF0ZSgkZ2FsbGVyeUlkLCAkdGl0bGUsICRjb250ZW50VHlwZSwgJGZpbGVOYW1lLCAkb3B0aW9ucykpDQoJI2VuZA0KDQoJI2lmKCRtZWRpYS5FcnJvcnMuQ291bnQgPiAwKQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJG1lZGlhLkVycm9ycykNCgkjZW5kDQoNCgkjaWYgKCRtZWRpYS5Jc0FwcHJvdmVkKQ0KCQkjaWYgKCRzdWJzY3JpYmUgPT0gJzAnKQ0KCQkJJGNvcmVfdjJfbWVkaWEuU2V0U3Vic2NyaWJlZCgkbWVkaWEuSWQsIGZhbHNlKQ0KCQkjZWxzZWlmICgkc3Vic2NyaWJlID09ICcxJykNCgkJCSRjb3JlX3YyX21lZGlhLlNldFN1YnNjcmliZWQoJG1lZGlhLklkLCB0cnVlKQ0KCQkjZW5kDQoJI2VuZA0KDQoJI2lmICghJG1lZGlhLklzQXBwcm92ZWQpDQoJCXsicmVkaXJlY3RVcmwiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX21lZGlhVXJscy5HYWxsZXJ5KCRnYWxsZXJ5SWQpKSJ9DQoJI2Vsc2UJCQ0KCQl7InJlZGlyZWN0VXJsIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbWVkaWEuVXJsKSJ9DQoJI2VuZA0KI2VuZA==</file><file name="uploadfile.vm">I3NldCgkbWVkaWEgPSBmYWxzZSkNCiNzZXQoJG1lZGlhID0gJGNvcmVfdjJfbWVkaWEuQ3VycmVudCkNCiNzZXQoJGdhbGxlcnkgPSBmYWxzZSkNCiNzZXQoJGdhbGxlcnkgPSAkY29yZV92Ml9nYWxsZXJ5LkN1cnJlbnQpDQoNCiNzZXQgKCRhbGxvd1JlbW90ZUF0dGFjaG1lbnQgPSAkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoJ21lZGlhZ2FsbGVyaWVzJywgJGdhbGxlcnkuSWQsICdNZWRpYUdhbGxlcnlfQXR0YWNoRmlsZVJlbW90ZScpLklzQWxsb3dlZCkNCiNzZXQgKCRhbGxvd0xvY2FsQXR0YWNobWVudCA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnbWVkaWFnYWxsZXJpZXMnLCAkZ2FsbGVyeS5JZCwgJ01lZGlhR2FsbGVyeV9BdHRhY2hGaWxlTG9jYWwnKS5Jc0FsbG93ZWQpDQojc2V0ICgkbGlua1RvVXJsQ2hlY2tlZCA9ICEkYWxsb3dMb2NhbEF0dGFjaG1lbnQgfHwgKCRtZWRpYSAmJiAkbWVkaWEuRmlsZS5Jc1JlbW90ZUF0dGFjaG1lbnQpICkNCg0KI3NldCAoJHVwbG9hZE9wdGlvbklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCd1cGxvYWRPcHRpb24nKSkNCiNzZXQgKCR1cGxvYWRGaWxlSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3VwbG9hZEZpbGUnKSkNCiNzZXQgKCRsaW5rVG9VcmxJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnbGlua1RvVXJsJykpDQojc2V0ICgkdXBsb2FkRmlsZUNvbnRhaW5lcklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCd1cGxvYWRGaWxlQ29udGFpbmVyJykpDQojc2V0ICgkdXBsb2FkRmlsZVN0YXRlSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3VwbG9hZEZpbGVTdGF0ZScpKQ0KI3NldCAoJHVybElucHV0SWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3VybElucHV0JykpDQojc2V0ICgkc2F2ZUJ1dHRvbklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzYXZlQnV0dG9uJykpDQoNCjwhRE9DVFlQRSBodG1sPiANCjxodG1sPg0KPGhlYWQ+DQoJPHRpdGxlPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVcGxvYWRBdHRhY2htZW50X1RpdGxlJyk8L3RpdGxlPg0KICAgICNzZXQoJGlzTW9kYWwgPSB0cnVlKQ0KICAgICRjb3JlX3YyX3BhZ2UuUmVuZGVyVGhlbWVIZWFkZXJzKCIleyBJc01vZGFsID0gJGlzTW9kYWx9IikNCiAgICA8bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIkc2l0ZWNvcmVfdjJfY29uZmlndXJhdGlvbi5Nb2RhbFRoZW1lVXJsIj4NCjwvaGVhZD4NCjxib2R5Pg0KDQo8Zm9ybSBpZD0idXBsb2FkRm9ybSIgbmFtZT0idXBsb2FkRm9ybSI+DQogICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPg0KCQkJI2lmICgkYWxsb3dSZW1vdGVBdHRhY2htZW50ICYmICRhbGxvd0xvY2FsQXR0YWNobWVudCApDQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfRGVzY3JpcHRpb24nKQ0KCQkJI2Vsc2VpZiAoISRhbGxvd1JlbW90ZUF0dGFjaG1lbnQgJiYgJGFsbG93TG9jYWxBdHRhY2htZW50ICkNCgkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXBsb2FkQXR0YWNobWVudF9EZXNjcmlwdGlvbl9GaWxlT25seScpDQoJCQkjZWxzZWlmICgkYWxsb3dSZW1vdGVBdHRhY2htZW50ICYmICEkYWxsb3dMb2NhbEF0dGFjaG1lbnQgKQ0KCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVcGxvYWRBdHRhY2htZW50X0Rlc2NyaXB0aW9uX1VybE9ubHknKQ0KCQkJI2Vsc2VpZiAoISRhbGxvd1JlbW90ZUF0dGFjaG1lbnQgJiYgISRhbGxvd0xvY2FsQXR0YWNobWVudCApDQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfRGVzY3JpcHRpb25fTm9BY2Nlc3MnKQ0KCQkJI2VuZA0KCQk8L3NwYW4+PC9sZWdlbmQ+DQoJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkjaWYgKCRhbGxvd0xvY2FsQXR0YWNobWVudCApDQoJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGZpbGUiPg0KCQkJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXBsb2FkQXR0YWNobWVudF9GaWxlJyk8L2xhYmVsPg0KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfRmlsZV9EZXNjcmlwdGlvbicpPC9zcGFuPg0KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJCQk8aW5wdXQgdHlwZT0icmFkaW8iIGlkPSIkdXBsb2FkRmlsZUlkIiBuYW1lPSIkdXBsb2FkT3B0aW9uSWQiICNpZighJGFsbG93UmVtb3RlQXR0YWNobWVudClzdHlsZT0iZGlzcGxheTogbm9uZSIjZW5kIHZhbHVlPSJVcGxvYWRGaWxlIiAjaWYgKCEkbGlua1RvVXJsQ2hlY2tlZCkgY2hlY2tlZD0iY2hlY2tlZCIgI2VuZCAvPg0KCQkJCQkJPGRpdiBpZD0iJHVwbG9hZEZpbGVDb250YWluZXJJZCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlIj4NCgkJCQkJCQk8aW5wdXQgdHlwZT0iZmlsZSIgLz4NCgkJCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJoaWRkZW5JbnB1dE5hbWUiIGlkPSIkdXBsb2FkRmlsZVN0YXRlSWQiIHZhbHVlPSJjb250ZXh0VmFsdWU6IiAvPg0KCQkJCQkJPC9kaXY+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiI+PC9zcGFuPg0KCQkJCTwvbGk+DQoJCQkjZW5kDQoNCgkJCSNpZiAoJGFsbG93UmVtb3RlQXR0YWNobWVudCkNCgkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gbGluayIgaWQ9IlJlbW90ZUxpbmtBcmVhIiBydW5hdD0ic2VydmVyIj4NCgkJCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfVXJsJyk8L2xhYmVsPg0KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfVXJsX0Rlc2NyaXB0aW9uJyk8L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQkJCTxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9IiRsaW5rVG9VcmxJZCIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXBsb2FkT3B0aW9uSWQpIiAjaWYoISRhbGxvd1JlbW90ZUF0dGFjaG1lbnQpc3R5bGU9ImRpc3BsYXk6IG5vbmUiI2VuZCB2YWx1ZT0iTGlua1RvVXJsIiAjaWYgKCRsaW5rVG9VcmxDaGVja2VkKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+DQoJCQkJCQk8aW5wdXQgaWQ9IiR1cmxJbnB1dElkIiBzaXplPSI0MCIgdHlwZT0idGV4dCIgI2lmICghJGxpbmtUb1VybENoZWNrZWQpIGRpc2FibGVkPSJkaXNhYmxlZCIgI2VuZCAjaWYoJG1lZGlhICYmICRtZWRpYS5GaWxlLklzUmVtb3RlQXR0YWNobWVudCkgdmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lZGlhLkZpbGUuRmlsZVVybCkiICNlbmQ+DQoJCQkJCTwvc3Bhbj4NCgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiI+PC9zcGFuPg0KCQkJCTwvbGk+DQoJCQkjZW5kDQoNCgkJCSNpZiAoJGFsbG93TG9jYWxBdHRhY2htZW50IHx8ICRhbGxvd1JlbW90ZUF0dGFjaG1lbnQpDQoJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIj4NCgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdXBsb2FkLWZpbGUiIGhyZWY9IiMiIGlkPSIkc2F2ZUJ1dHRvbklkIj4NCgkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VwbG9hZEF0dGFjaG1lbnRfU2F2ZScpDQoJCQkJCQk8L2E+DQoJCQkJCQk8c3BhbiBjbGFzcz0icHJvY2Vzc2luZyIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbjsiPjwvc3Bhbj4NCgkJCQkJPC9zcGFuPg0KCQkJCTwvbGk+DQoJCQkjZW5kDQoJCTwvdWw+DQoJPC9maWVsZHNldD4NCgk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+DQo8L2Zvcm0+DQoNCiNyZWdpc3RlckVuZE9mUGFnZUh0bWwoJ3RlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51cGxvYWRNZWRpYUdhbGxlcnlGaWxlJykNCgk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRGaWxlVXJsKCJ1aS5qcyIpKSI+PC9zY3JpcHQ+DQojZW5kDQoNCiNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQ0KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCgkJalF1ZXJ5KGZ1bmN0aW9uKGopew0KCQkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXBsb2FkTWVkaWFHYWxsZXJ5RmlsZS5yZWdpc3Rlcih7DQoJCQkJdmFsaWRhdGVPbkxvYWQgOiAjaWYoJG1lZGlhICYmICRtZWRpYS5GaWxlLklzUmVtb3RlQXR0YWNobWVudCkgdHJ1ZSAjZWxzZSBmYWxzZSAjZW5kLCANCgkJCQlzYXZlQnV0dG9uIDogalF1ZXJ5KCcjJHNhdmVCdXR0b25JZCcpLA0KCQkJCWxpbmtUb1VybCA6IGpRdWVyeSgnIyRsaW5rVG9VcmxJZCcpLA0KCQkJCXVwbG9hZEZpbGUgOiBqUXVlcnkoJyMkdXBsb2FkRmlsZUlkJyksDQoJCQkJdXJsSW5wdXQgOiBqUXVlcnkoJyMkdXJsSW5wdXRJZCcpLA0KCQkJCXVwbG9hZEZpbGVDb250YWluZXIgOiBqUXVlcnkoJyMkdXBsb2FkRmlsZUNvbnRhaW5lcklkJyksDQoJCQkJdXBsb2FkRmlsZVN0YXRlSWQgOiAnIyR1cGxvYWRGaWxlU3RhdGVJZCcsDQoJCQkJdXBsb2FkRmlsZVVybCA6ICIkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3VwbG9hZEZpbGVVcmwnKSIsDQogICAgICAgICAgICAgICAgYWxsb3dlZEV4dGVuc2lvbnMgOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVXBsb2FkQXR0YWNobWVudF9FeHRlbnNpb25zIikpJywNCiAgICAgICAgICAgICAgICBhbGxvd2VkRXh0ZW5zaW9uc0Vycm9yTWVzc2FnZSA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJVcGxvYWRBdHRhY2htZW50X0V4dGVuc2lvbnNfRXJyb3IiKSknLA0KCQkJCW1pc3NpbmdGaWxlRXJyb3JNZXNzYWdlIDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlVwbG9hZEF0dGFjaG1lbnRfTWlzc2luZ0ZpbGUiKSknLA0KCQkJCXVwbG9hZGluZ0ZpbGVFcnJvck1lc3NhZ2UgOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVXBsb2FkQXR0YWNobWVudF9FcnJvclVwbG9hZGluZ0ZpbGUiKSknLA0KCQkJCW1pc3NpbmdVcmxFcnJvck1lc3NhZ2UgOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVXBsb2FkQXR0YWNobWVudF9NaXNzaW5nVVJMIikpJywNCgkJCQlpbnZhbGlkVVJMRXJyb3JNZXNzYWdlIDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlVwbG9hZEF0dGFjaG1lbnRfSW52YWxpZFVSTCIpKScgICAgICAgICAgICAgICAgDQoJCQl9KTsNCgkJfSk7DQoJPC9zY3JpcHQ+DQojZW5kDQoNCjwvYm9keT4NCjwvaHRtbD4=</file></files></scriptedContentFragment></scriptedContentFragments>