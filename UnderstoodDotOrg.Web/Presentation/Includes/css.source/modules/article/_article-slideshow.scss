/**
 * SASS partial for article slideshow module.
 */
$bp-small-mid: min-width 560px;
$bp-small-720: min-width 720px;

.slideshow-review { display: none; }

.article-slideshow-container {
  position:relative;

  .rsArrow .rsArrowIcn{
    z-index:234;
    top:110px;
  }
  .rsArrowLeft {
    .rsArrowIcn {
      background: image-url('sprite.arrows.article-slideshow.png') 0 -118px no-repeat !important;
      background-size: 101px 236px !important;
      height: 118px;
      left: -23px;
      width: 50px;
      @include bp($bp-small-plus) { top: 35%; }

      &:hover {
        background: image-url('sprite.arrows.article-slideshow.png') 0 0 no-repeat  !important;
        background-size: 101px 236px !important;
      }
      &.rsArrowDisabled { display: none !important; }
      .no-backgroundsize & {
        background: image-url('sprite.arrows.article-slideshow.lo-res.png') 0 -118px no-repeat !important;
        &:hover {
          background: image-url('sprite.arrows.article-slideshow.lo-res.png') 0 0 no-repeat  !important;
        }
      }
    }

  }// .rsArrowLeft


  .rsArrowRight {
    .rsArrowIcn {
      right: -23px;
      @include bp($bp-small-plus) { top: 35%; }

      background: image-url('sprite.arrows.article-slideshow.png') -50px -118px no-repeat !important;
      background-size: 101px 236px !important;
      height: 118px;
      width: 50px;

      &:hover {
        background: image-url('sprite.arrows.article-slideshow.png') -50px 0 no-repeat  !important;
        background-size: 101px 236px !important;
      }
      &.rsArrowDisabled { display: none !important; }
      .no-backgroundsize & {
        background: image-url('sprite.arrows.article-slideshow.lo-res.png') -50px -118px no-repeat !important;
        &:hover {
          background: image-url('sprite.arrows.article-slideshow.lo-res.png') -50px 0 no-repeat  !important;
        }
      }
    }

  }// .rsArrowRight

  .index-buttons-container {
    width: 100%;
    margin: 30px 0;
    text-align: center;

    .button {
      @include rem(font-size, 14px);
      @include rounded-corners(6px);
      display: inline-block;
      height: auto;
      line-height: 30px;
      margin-bottom:7px;
      padding: 0 15px 0 15px;
      width: auto;
    }
    .button.next.active {
      background-color: #BCBDC0;
      color: black;
    }
  }// .index-buttons-container

  // Move share icons down (except on tall-image slides).
  .share-dropdown-menu {
    @include bp($bp-large) {
      position: relative;
      top: 55px;
    }
  }
  .tall-image {
    .article-actions,
    .share-dropdown-menu {
      @include bp($bp-large) {
        position: relative;
        top: 0px;
      }
    }
  }
}// .article-slideshow-container

// Article Slideshow (A5).
.article-slideshow-container.slideshow {
  .rsArrow .rsArrowIcn {
    top: 25px;
    @include bp($bp-small) { top: 70px }
    @include bp($bp-small-plus) { top: 100px; }
    @include bp($bp-medium) { top: 140px; }
    @include bp($bp-large) { top: 180px; }
  }

  #article-slideshow{
    .slide.wide-image .content{
      .article-actions{
        @include bp($bp-large) {
          top: 45px;
          margin-right: 20px;
        }
      }
    }
  }

  #article-slideshow .content{

    .article-actions{
      position: relative;
      top: -10px;
      margin-top: 7px;

      @include bp($bp-small) {
        margin-top:30px;
        margin-right: 10px;
      }

      @include bp($bp-medium) {
        margin-top: 7px;
      }

      button{
        i {
          margin: 0px 6px 0 6px;
        }
        &:first-child i {
          margin: 0px 6px 0 6px;
        }
        @include bp($bp-small) {
          i {
            margin: 0px 6px 0 13px;
          }
          &:first-child i {
            margin: 0px 6px 0 15px;
          }
        }
      }
    }
  }

  .slide-inner > img { width:100%; }

  .content {
    .share-dropdown-menu {
      margin-right:30px;
      @include bp($bp-small) { margin-top: 25px; }
    }

    h3 {
      font-weight:normal;
      max-width: 520px;
    }
  }

  #article-slideshow .slide .content h3 {
    @include bp($bp-small) { margin-top: 10px; }
    @include bp($bp-medium){ margin-top: -10px; }
  }

  &.tall-image-arrows .rsArrow .rsArrowIcn {
    top: 200px;
    @include bp($bp-small) { top: 350px; }
    @include bp($bp-small-plus) { top: 38.2%; }
  }
}// .article-slideshow-container.slideshow

.slide-show-border {
  @include dropshadow;
}

#article-slideshow {
  max-width: 873px;
  width: 100%;
  @include bp($bp-small-plus){
    margin: auto auto;
    width: 100%;
  }

  p, h3, h4 {
    color: #696969;
    font-weight: normal;
  }
  h3 { @include rem(font-size, 24px); }
  h4 { @include rem(font-size, 24px); }

  .rsNav {
    display: none;
  }
}// #article-slideshow

#article-slideshow .slide {
  .content {
    margin: 0 0 0 15px;
    padding-right:15px;
    min-height:190px;
    @include bp($bp-small-plus){
      margin: 30px 40px 30px 40px;
      .share-dropdown-menu { float: right; }
    }

    .top { min-height: 51px; }

    .slide-count {
      @include rem(font-size, 18px);
      color: #bcbdc0;
      font-weight: normal;
      left: 0;
      position: relative;
      text-align:left;
      top: 65px;
      width:90%;

      @include bp($bp-small){
        float:left;
        margin-top:25px;
        position: static;
        text-align:left;
        width:110px;
      }
      @include bp($bp-medium) { margin-top: 0; }
    }// .slide-count

    h3 {
      @include rem(font-size, 24px);
      color: #7b3f84;
      font-weight: normal;
      margin: 35px 0 25px 0;
      @include bp($bp-medium){ padding-right: 0; }
    }
    p {
      color: #696969;
      @include rem(font-size, 16px);
      line-height: 27px;
      @include bp($bp-medium){
        @include rem(font-size, 14px);
        @include rem(line-height, 24px);
        padding-right: 0;
      }
    }

    .article-actions {
      float: right;
      @include bp($bp-small) { margin-top: 30px; }
      @include bp($bp-medium) { margin-top: 7px; }

      @include old-ie {
        button{
          &:after{
            top: -5px;
          }
        }
        button.icon-plus{
          &:after{
            top: -2px;
          }
        }
      }// old-ie

    }

    .share-dropdown-menu {
      color: #426da9;
      float: right;
      margin-right: 20px;
      position: relative;
      @include bp($bp-small-plus) { margin-right: -10px; }
      @include bp($bp-medium) { margin-top: 0; }
    }
  }// .content

  &.wide-image {
    .image {
      background-position: 50% 0;
      background-repeat: no-repeat;
      background-size: contain;
      height: 165px;
      margin: auto auto;
      @include bp($bp-small) { height: 250px; }
      @include bp($bp-small-plus) {
        background-size: 870px 490px;
        height: 490px;
      }
    }
  }// .slide.wide-image

  &.tall-image {
    img {
      @include bp($bp-small-plus) {
        width:47%;
        float:left;
      }
    }
    .image {
      margin: auto auto;
      background-position: 40% 0;
      background-size: 320px 563px;
      background-repeat: no-repeat;
      height: 516px;
      width: 290px;

      @include bp($bp-small-plus){
        background-position: 50% 0;
        background-size: 390px 695px;
        background-repeat: no-repeat;
        height: 695px;
        width: 390px;
      }
    }

    .content {
      width: 100%;
      @include bp($bp-small-plus){
        float: left;
        width: 45%;
        margin:30px 20px;
      }
    }

    .share-dropdown-menu {
      margin-right: 50px;
      @include bp($bp-small-plus) {
        margin: 0;
      }
      @include bp($bp-medium) {
        margin-right: 40px;
      }
    }
    .slide-count {
      @include bp($bp-small-plus) {
        margin-top:45px;
        margin-bottom:15px;
      }
    }

    .article-actions {
      float: left;
      margin-top: -25px;

      @include bp($bp-small) {
        margin-left: 30px;
      }

      @include bp($bp-small-plus) {
        width: 180px;
        position: absolute !important;
        top: 26px !important;
        margin: 0 !important;
      }
    }

    h3 {
      clear:both;
    }

  }// .slide.tall-image

  &.end {
    h3 {
      margin-bottom: 10px;
      @include bp($bp-small-plus){ margin-bottom: 50px; }
    }
    h4 { margin-bottom: 10px; }

    .slide-inner {
      padding: 15px;
      @include bp($bp-small-plus){
        padding: 50px 80px 0 80px;
      }
    }
    .thumbnail {
      background-position: 50% 0;
      background-repeat: no-repeat;
      background-size: 190px 110px;
      height: 110px;
      margin: 0 0 10px 0;
      width: 190px;
      @include bp($bp-medium) { margin: 0 50px 50px 0; }
      @include bp($bp-small-plus) { float: left; }
    }
    .text {
      width: 100%;
      float: left;
      @include bp($bp-medium){
        min-height: 110px;
        width: 50%;
      }
      @include bp($bp-large) { width: 450px; }
    }
  }// .slide.text-slide.end

}// #article-slideshow .slide

// Text tips slideshow (A9).
#article-slideshow .slide.text-slide {

  .article-actions {
    @include bp($bp-small) { margin-top: 0; }
    @include bp($bp-medium) { margin-top: 0; }
  }

  .slide-inner { position: relative; }

  .content {
    margin: 0;
    padding: 40px 50px;
    @include bp($bp-small-plus){
      max-width: 868px;
      min-height: 440px;
      padding: 40px;
      h3,
      p {
        padding-left: 35px;
        padding-right: 35px;
      }
      ol,
      ul {
        margin-left: 35px;
        margin-right: 35px;
      }
    }

    a {
      color: #fff;
      text-decoration: underline;

      &:hover {
        text-decoration: none;
      }
    }

    .top {
      background-color: #fff;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
      @include bp($bp-small){
        background-color: transparent;
        left: auto;
        position: relative;
        top: auto;
        width: auto;
      }
    }

    .share-dropdown-menu {
      padding: 16px 5px; // fix for ios4
      //      padding: 16px 15px 0 15px;
      background-color: #fff;
      height: 50px;

      @include bp($bp-small){
        padding: 16px 15px 0 15px;
      }

      .share-menu { margin: 16px 15px 0 15px; }
      .social-share-button {
        border: none;
        background-color: transparent;
        color: inherit;
      }
    }

    p, li, h3 {
      color: #fff;
      float: none;
      width: 100%;
    }
    h3 {
      margin-top: 20px;
      @include bp($bp-small-plus) {
        @include rem(font-size, 40px);
        margin-top: 34px;
      }
    }
    p {
      @include rem(font-size, 18px);
      margin-bottom: 1em;
    }
    li {
      @include rem(font-size, 18px);
      // FIXME: not the right place for this font declaration.
      font-family: arial, sans-serif;
    }

    .slide-count-text {
      @include rem(font-size, 24px);
      color: #fff;
      font-weight: bold;
      margin-top: 50px;
      width: auto;
      z-index: 10;
      @include bp($bp-small) { margin-top: 20px; }

      span {
        border-radius: 50%;
        display: inline-block;
        height: 37px;
        padding-top: 2px;
        text-align: center;
        width: 37px;
        &.light-blue-span { background-color: #426da9; }
        &.blue-span{ background-color: #25569a; }
        &.light-purple-span { background-color: #692d72; }
        &.purple-span { background-color: #5a3b7c; }
      }
      @include bp($bp-small-mid){
        position: absolute;
        top: 10px;
      }
      @include bp($bp-small-plus) { left: 74px; }
      @include bp($bp-small-720){
        @include rem(font-size, 48px);
        span {
          margin-top: -25px;
          padding-top: 7px;
          width: 80px;
          height: 80px;
        }
      }
    }// .slide-count-text
  }// .content

  &.light-blue-background .content { background-color: #298fc2; }
  &.blue-background .content { background-color: #426da9; }
  &.light-purple-background .content { background-color: #7a4183; }
  &.purple-background .content { background-color: #6f5091; }
}// #article-slideshow .slide.text-slide


// Prevent the actions list from getting clipped on hover for wide images
.container.article.slideshow.overflowToggleActions{
  > .row{
    overflow: hidden;
    .rsOverflow{
      overflow: visible;
      .rsSlide {
        display: none;
        &.rsActiveSlide {
          display: block;
          overflow: visible;
        }
      }
    }
  }
}
.text-tips #article-slideshow .slide {
  .article-actions {
    float: none;
    @include bp($bp-small) {
      float: right;
    }
  }
}
